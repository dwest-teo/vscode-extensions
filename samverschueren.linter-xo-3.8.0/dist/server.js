var N=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Rn=N(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.thenable=ge.typedArray=ge.stringArray=ge.array=ge.func=ge.error=ge.number=ge.string=ge.boolean=void 0;function il(t){return t===!0||t===!1}ge.boolean=il;function go(t){return typeof t=="string"||t instanceof String}ge.string=go;function ol(t){return typeof t=="number"||t instanceof Number}ge.number=ol;function sl(t){return t instanceof Error}ge.error=sl;function po(t){return typeof t=="function"}ge.func=po;function mo(t){return Array.isArray(t)}ge.array=mo;function al(t){return mo(t)&&t.every(e=>go(e))}ge.stringArray=al;function ul(t,e){return Array.isArray(t)&&t.every(e)}ge.typedArray=ul;function cl(t){return t&&po(t.then)}ge.thenable=cl});var Qe=N(Tr=>{"use strict";Object.defineProperty(Tr,"__esModule",{value:!0});var Sr;function kr(){if(Sr===void 0)throw new Error("No runtime abstraction layer installed");return Sr}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");Sr=n}t.install=e})(kr||(kr={}));Tr.default=kr});var Dr=N(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.Disposable=void 0;var ll;(function(t){function e(n){return{dispose:n}}t.create=e})(ll=Xt.Disposable||(Xt.Disposable={}))});var vo=N(Cn=>{"use strict";Object.defineProperty(Cn,"__esModule",{value:!0});Cn.AbstractMessageBuffer=void 0;var fl=13,dl=10,hl=`\r
`,yo=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){let n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let e=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];r=0;t:for(;r<l.length;){switch(l[r]){case fl:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case dl:switch(e){case 1:e=2;break;case 3:e=4,r++;break e;default:e=0}break;default:e=0}r++}i+=l.byteLength,n++}if(e!==4)return;let s=this._read(i+r),o=new Map,c=this.toString(s,"ascii").split(hl);if(c.length<2)return o;for(let l=0;l<c.length-2;l++){let p=c[l],f=p.indexOf(":");if(f===-1)throw new Error("Message header must separate key and value using :");let v=p.substr(0,f),b=p.substr(f+1).trim();o.set(v,b)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let n=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);n.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e}else n.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength}return n}};Cn.AbstractMessageBuffer=yo});var Co=N(Or=>{"use strict";Object.defineProperty(Or,"__esModule",{value:!0});var gl=Qe(),bo=require("util"),mt=Dr(),pl=vo(),Yt=class extends pl.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return Yt.emptyBuffer}fromString(e,n){return Buffer.from(e,n)}toString(e,n){return e instanceof Buffer?e.toString(n):new bo.TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,n):Buffer.from(e,0,n)}allocNative(e){return Buffer.allocUnsafe(e)}};Yt.emptyBuffer=Buffer.allocUnsafe(0);var wo=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),mt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),mt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),mt.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),mt.Disposable.create(()=>this.stream.off("data",e))}},_o=class{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),mt.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),mt.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),mt.Disposable.create(()=>this.stream.off("end",e))}write(e,n){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o)};typeof e=="string"?this.stream.write(e,n,s):this.stream.write(e,s)})}end(){this.stream.end()}},Ro=Object.freeze({messageBuffer:Object.freeze({create:t=>new Yt(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(t,void 0,0),e.charset))}catch(n){return Promise.reject(n)}}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{try{return t instanceof Buffer?Promise.resolve(JSON.parse(t.toString(e.charset))):Promise.resolve(JSON.parse(new bo.TextDecoder(e.charset).decode(t)))}catch(n){return Promise.reject(n)}}})}),stream:Object.freeze({asReadableStream:t=>new wo(t),asWritableStream:t=>new _o(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){return setTimeout(t,e,...n)},clearTimeout(t){clearTimeout(t)},setImmediate(t,...e){return setImmediate(t,...e)},clearImmediate(t){clearImmediate(t)}})});function Er(){return Ro}(function(t){function e(){gl.default.install(Ro)}t.install=e})(Er||(Er={}));Or.default=Er});var Tt=N(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.stringArray=Pe.array=Pe.func=Pe.error=Pe.number=Pe.string=Pe.boolean=void 0;function ml(t){return t===!0||t===!1}Pe.boolean=ml;function Po(t){return typeof t=="string"||t instanceof String}Pe.string=Po;function yl(t){return typeof t=="number"||t instanceof Number}Pe.number=yl;function vl(t){return t instanceof Error}Pe.error=vl;function bl(t){return typeof t=="function"}Pe.func=bl;function qo(t){return Array.isArray(t)}Pe.array=qo;function wl(t){return qo(t)&&t.every(e=>Po(e))}Pe.stringArray=wl});var xr=N($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.isResponseMessage=$.isNotificationMessage=$.isRequestMessage=$.NotificationType9=$.NotificationType8=$.NotificationType7=$.NotificationType6=$.NotificationType5=$.NotificationType4=$.NotificationType3=$.NotificationType2=$.NotificationType1=$.NotificationType0=$.NotificationType=$.RequestType9=$.RequestType8=$.RequestType7=$.RequestType6=$.RequestType5=$.RequestType4=$.RequestType3=$.RequestType2=$.RequestType1=$.RequestType=$.RequestType0=$.AbstractMessageSignature=$.ParameterStructures=$.ResponseError=$.ErrorCodes=void 0;var yt=Tt(),So;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=t.jsonrpcReservedErrorRangeStart,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=t.jsonrpcReservedErrorRangeEnd})(So=$.ErrorCodes||($.ErrorCodes={}));var Pn=class extends Error{constructor(e,n,r){super(n);this.code=yt.number(e)?e:So.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Pn.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}};$.ResponseError=Pn;var Re=class{constructor(e){this.kind=e}static is(e){return e===Re.auto||e===Re.byName||e===Re.byPosition}toString(){return this.kind}};$.ParameterStructures=Re;Re.auto=new Re("auto");Re.byPosition=new Re("byPosition");Re.byName=new Re("byName");var le=class{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return Re.auto}};$.AbstractMessageSignature=le;var ko=class extends le{constructor(e){super(e,0)}};$.RequestType0=ko;var To=class extends le{constructor(e,n=Re.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};$.RequestType=To;var Do=class extends le{constructor(e,n=Re.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};$.RequestType1=Do;var Eo=class extends le{constructor(e){super(e,2)}};$.RequestType2=Eo;var Oo=class extends le{constructor(e){super(e,3)}};$.RequestType3=Oo;var xo=class extends le{constructor(e){super(e,4)}};$.RequestType4=xo;var No=class extends le{constructor(e){super(e,5)}};$.RequestType5=No;var jo=class extends le{constructor(e){super(e,6)}};$.RequestType6=jo;var Fo=class extends le{constructor(e){super(e,7)}};$.RequestType7=Fo;var Mo=class extends le{constructor(e){super(e,8)}};$.RequestType8=Mo;var Ao=class extends le{constructor(e){super(e,9)}};$.RequestType9=Ao;var Io=class extends le{constructor(e,n=Re.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};$.NotificationType=Io;var Lo=class extends le{constructor(e){super(e,0)}};$.NotificationType0=Lo;var Wo=class extends le{constructor(e,n=Re.auto){super(e,1);this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}};$.NotificationType1=Wo;var $o=class extends le{constructor(e){super(e,2)}};$.NotificationType2=$o;var Bo=class extends le{constructor(e){super(e,3)}};$.NotificationType3=Bo;var Ho=class extends le{constructor(e){super(e,4)}};$.NotificationType4=Ho;var zo=class extends le{constructor(e){super(e,5)}};$.NotificationType5=zo;var Uo=class extends le{constructor(e){super(e,6)}};$.NotificationType6=Uo;var Jo=class extends le{constructor(e){super(e,7)}};$.NotificationType7=Jo;var Go=class extends le{constructor(e){super(e,8)}};$.NotificationType8=Go;var Xo=class extends le{constructor(e){super(e,9)}};$.NotificationType9=Xo;function _l(t){let e=t;return e&&yt.string(e.method)&&(yt.string(e.id)||yt.number(e.id))}$.isRequestMessage=_l;function Rl(t){let e=t;return e&&yt.string(e.method)&&t.id===void 0}$.isNotificationMessage=Rl;function Cl(t){let e=t;return e&&(e.result!==void 0||!!e.error)&&(yt.string(e.id)||yt.number(e.id)||e.id===null)}$.isResponseMessage=Cl});var Dt=N(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.Emitter=vt.Event=void 0;var Pl=Qe(),ql;(function(t){let e={dispose(){}};t.None=function(){return e}})(ql=vt.Event||(vt.Event={}));var Yo=class{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{n.push(r[s].apply(i[s],e))}catch(c){Pl.default().console.error(c)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Kt=class{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Yo),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);let i={dispose:()=>{!this._callbacks||(this._callbacks.remove(e,n),i.dispose=Kt._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};vt.Emitter=Kt;Kt._noop=function(){}});var Mr=N(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.CancellationTokenSource=bt.CancellationToken=void 0;var Ko=Qe(),Sl=Tt(),Nr=Dt(),jr;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Nr.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Nr.Event.None});function e(n){let r=n;return r&&(r===t.None||r===t.Cancelled||Sl.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(jr=bt.CancellationToken||(bt.CancellationToken={}));var kl=Object.freeze(function(t,e){let n=Ko.default().timer.setTimeout(t.bind(e),0);return{dispose(){Ko.default().timer.clearTimeout(n)}}}),Fr=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?kl:(this._emitter||(this._emitter=new Nr.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Qo=class{get token(){return this._token||(this._token=new Fr),this._token}cancel(){this._token?this._token.cancel():this._token=jr.Cancelled}dispose(){this._token?this._token instanceof Fr&&this._token.dispose():this._token=jr.None}};bt.CancellationTokenSource=Qo});var Zo=N(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.ReadableStreamMessageReader=Ve.AbstractMessageReader=Ve.MessageReader=void 0;var qn=Qe(),Et=Tt(),Ar=Dt(),Tl;(function(t){function e(n){let r=n;return r&&Et.func(r.listen)&&Et.func(r.dispose)&&Et.func(r.onError)&&Et.func(r.onClose)&&Et.func(r.onPartialMessage)}t.is=e})(Tl=Ve.MessageReader||(Ve.MessageReader={}));var Ir=class{constructor(){this.errorEmitter=new Ar.Emitter,this.closeEmitter=new Ar.Emitter,this.partialMessageEmitter=new Ar.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${Et.string(e.message)?e.message:"unknown"}`)}};Ve.AbstractMessageReader=Ir;var Lr;(function(t){function e(n){var r;let i,s,o,c=new Map,l,p=new Map;if(n===void 0||typeof n=="string")i=n??"utf-8";else{if(i=(r=n.charset)!==null&&r!==void 0?r:"utf-8",n.contentDecoder!==void 0&&(o=n.contentDecoder,c.set(o.name,o)),n.contentDecoders!==void 0)for(let f of n.contentDecoders)c.set(f.name,f);if(n.contentTypeDecoder!==void 0&&(l=n.contentTypeDecoder,p.set(l.name,l)),n.contentTypeDecoders!==void 0)for(let f of n.contentTypeDecoders)p.set(f.name,f)}return l===void 0&&(l=qn.default().applicationJson.decoder,p.set(l.name,l)),{charset:i,contentDecoder:o,contentDecoders:c,contentTypeDecoder:l,contentTypeDecoders:p}}t.fromOptions=e})(Lr||(Lr={}));var Vo=class extends Ir{constructor(e,n){super();this.readable=e,this.options=Lr.fromOptions(n),this.buffer=qn.default().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let i=this.buffer.tryReadHeaders();if(!i)return;let s=i.get("Content-Length");if(!s)throw new Error("Header must provide a Content-Length property.");let o=parseInt(s);if(isNaN(o))throw new Error("Content-Length value must be a number.");this.nextMessageLength=o}let n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let r;this.options.contentDecoder!==void 0?r=this.options.contentDecoder.decode(n):r=Promise.resolve(n),r.then(i=>{this.options.contentTypeDecoder.decode(i,this.options).then(s=>{this.callback(s)},s=>{this.fireError(s)})},i=>{this.fireError(i)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(qn.default().timer.clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=qn.default().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ve.ReadableStreamMessageReader=Vo});var ts=N(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.Semaphore=void 0;var Dl=Qe(),es=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||Dl.default().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}};Sn.Semaphore=es});var ss=N(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.WriteableStreamMessageWriter=Ze.AbstractMessageWriter=Ze.MessageWriter=void 0;var ns=Qe(),Qt=Tt(),El=ts(),rs=Dt(),Ol="Content-Length: ",is=`\r
`,xl;(function(t){function e(n){let r=n;return r&&Qt.func(r.dispose)&&Qt.func(r.onClose)&&Qt.func(r.onError)&&Qt.func(r.write)}t.is=e})(xl=Ze.MessageWriter||(Ze.MessageWriter={}));var Wr=class{constructor(){this.errorEmitter=new rs.Emitter,this.closeEmitter=new rs.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Qt.string(e.message)?e.message:"unknown"}`)}};Ze.AbstractMessageWriter=Wr;var $r;(function(t){function e(n){var r,i;return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:ns.default().applicationJson.encoder}:{charset:(r=n.charset)!==null&&r!==void 0?r:"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:(i=n.contentTypeEncoder)!==null&&i!==void 0?i:ns.default().applicationJson.encoder}}t.fromOptions=e})($r||($r={}));var os=class extends Wr{constructor(e,n){super();this.writable=e,this.options=$r.fromOptions(n),this.errorCount=0,this.writeSemaphore=new El.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(Ol,r.byteLength.toString(),is),i.push(is),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}};Ze.WriteableStreamMessageWriter=os});var us=N(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.LRUCache=et.LinkedMap=et.Touch=void 0;var Se;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(Se=et.Touch||(et.Touch={}));var Br=class{constructor(){this[Symbol.toStringTag]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)===null||e===void 0?void 0:e.value}get last(){var e;return(e=this._tail)===null||e===void 0?void 0:e.value}has(e){return this._map.has(e)}get(e,n=Se.None){let r=this._map.get(e);if(!!r)return n!==Se.None&&this.touch(r,n),r.value}set(e,n,r=Se.None){let i=this._map.get(e);if(i)i.value=n,r!==Se.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case Se.None:this.addItemLast(i);break;case Se.First:this.addItemFirst(i);break;case Se.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){let n=this._map.get(e);if(!!n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){let r=this._state,i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.key,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}values(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:r.value,done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}entries(){let e=this,n=this._state,r=this._head,i={[Symbol.iterator](){return i},next(){if(e._state!==n)throw new Error("LinkedMap got modified during iteration.");if(r){let s={value:[r.key,r.value],done:!1};return r=r.next,s}else return{value:void 0,done:!0}}};return i}[Symbol.iterator](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{let n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==Se.First&&n!==Se.Last)){if(n===Se.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===Se.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){let e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(let[n,r]of e)this.set(n,r)}};et.LinkedMap=Br;var as=class extends Br{constructor(e,n=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=Se.AsNew){return super.get(e,n)}peek(e){return super.get(e,Se.None)}set(e,n){return super.set(e,n,Se.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};et.LRUCache=as});var gs=N(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.createMessageConnection=K.ConnectionOptions=K.CancellationStrategy=K.CancellationSenderStrategy=K.CancellationReceiverStrategy=K.ConnectionStrategy=K.ConnectionError=K.ConnectionErrors=K.LogTraceNotification=K.SetTraceNotification=K.TraceFormat=K.Trace=K.NullLogger=K.ProgressType=void 0;var cs=Qe(),we=Tt(),X=xr(),ls=us(),Vt=Dt(),Hr=Mr(),Zt;(function(t){t.type=new X.NotificationType("$/cancelRequest")})(Zt||(Zt={}));var kn;(function(t){t.type=new X.NotificationType("$/progress")})(kn||(kn={}));var fs=class{constructor(){}};K.ProgressType=fs;var zr;(function(t){function e(n){return we.func(n)}t.is=e})(zr||(zr={}));K.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var pe;(function(t){t[t.Off=0]="Off",t[t.Messages=1]="Messages",t[t.Verbose=2]="Verbose"})(pe=K.Trace||(K.Trace={}));(function(t){function e(r){if(!we.string(r))return t.Off;switch(r=r.toLowerCase(),r){case"off":return t.Off;case"messages":return t.Messages;case"verbose":return t.Verbose;default:return t.Off}}t.fromString=e;function n(r){switch(r){case t.Off:return"off";case t.Messages:return"messages";case t.Verbose:return"verbose";default:return"off"}}t.toString=n})(pe=K.Trace||(K.Trace={}));var Ie;(function(t){t.Text="text",t.JSON="json"})(Ie=K.TraceFormat||(K.TraceFormat={}));(function(t){function e(n){return n=n.toLowerCase(),n==="json"?t.JSON:t.Text}t.fromString=e})(Ie=K.TraceFormat||(K.TraceFormat={}));var ds;(function(t){t.type=new X.NotificationType("$/setTrace")})(ds=K.SetTraceNotification||(K.SetTraceNotification={}));var Ur;(function(t){t.type=new X.NotificationType("$/logTrace")})(Ur=K.LogTraceNotification||(K.LogTraceNotification={}));var Tn;(function(t){t[t.Closed=1]="Closed",t[t.Disposed=2]="Disposed",t[t.AlreadyListening=3]="AlreadyListening"})(Tn=K.ConnectionErrors||(K.ConnectionErrors={}));var wt=class extends Error{constructor(e,n){super(n);this.code=e,Object.setPrototypeOf(this,wt.prototype)}};K.ConnectionError=wt;var hs;(function(t){function e(n){let r=n;return r&&we.func(r.cancelUndispatched)}t.is=e})(hs=K.ConnectionStrategy||(K.ConnectionStrategy={}));var Jr;(function(t){t.Message=Object.freeze({createCancellationTokenSource(n){return new Hr.CancellationTokenSource}});function e(n){let r=n;return r&&we.func(r.createCancellationTokenSource)}t.is=e})(Jr=K.CancellationReceiverStrategy||(K.CancellationReceiverStrategy={}));var Gr;(function(t){t.Message=Object.freeze({sendCancellation(n,r){n.sendNotification(Zt.type,{id:r})},cleanup(n){}});function e(n){let r=n;return r&&we.func(r.sendCancellation)&&we.func(r.cleanup)}t.is=e})(Gr=K.CancellationSenderStrategy||(K.CancellationSenderStrategy={}));var Xr;(function(t){t.Message=Object.freeze({receiver:Jr.Message,sender:Gr.Message});function e(n){let r=n;return r&&Jr.is(r.receiver)&&Gr.is(r.sender)}t.is=e})(Xr=K.CancellationStrategy||(K.CancellationStrategy={}));var Nl;(function(t){function e(n){let r=n;return r&&(Xr.is(r.cancellationStrategy)||hs.is(r.connectionStrategy))}t.is=e})(Nl=K.ConnectionOptions||(K.ConnectionOptions={}));var Le;(function(t){t[t.New=1]="New",t[t.Listening=2]="Listening",t[t.Closed=3]="Closed",t[t.Disposed=4]="Disposed"})(Le||(Le={}));function jl(t,e,n,r){let i=n!==void 0?n:K.NullLogger,s=0,o=0,c=0,l="2.0",p,f=Object.create(null),v,b=Object.create(null),P=new Map,S,T=new ls.LinkedMap,j=Object.create(null),_=Object.create(null),C=pe.Off,E=Ie.Text,L,W=Le.New,J=new Vt.Emitter,se=new Vt.Emitter,I=new Vt.Emitter,Y=new Vt.Emitter,D=new Vt.Emitter,k=r&&r.cancellationStrategy?r.cancellationStrategy:Xr.Message;function x(y){if(y===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+y.toString()}function F(y){return y===null?"res-unknown-"+(++c).toString():"res-"+y.toString()}function G(){return"not-"+(++o).toString()}function U(y,g){X.isRequestMessage(g)?y.set(x(g.id),g):X.isResponseMessage(g)?y.set(F(g.id),g):y.set(G(),g)}function H(y){}function ee(){return W===Le.Listening}function te(){return W===Le.Closed}function he(){return W===Le.Disposed}function Ue(){(W===Le.New||W===Le.Listening)&&(W=Le.Closed,se.fire(void 0))}function Je(y){J.fire([y,void 0,void 0])}function hr(y){J.fire(y)}t.onClose(Ue),t.onError(Je),e.onClose(Ue),e.onError(hr);function yn(){S||T.size===0||(S=cs.default().timer.setImmediate(()=>{S=void 0,gr()}))}function gr(){if(T.size===0)return;let y=T.shift();try{X.isRequestMessage(y)?mr(y):X.isNotificationMessage(y)?Jt(y):X.isResponseMessage(y)?yr(y):vr(y)}finally{yn()}}let pr=y=>{try{if(X.isNotificationMessage(y)&&y.method===Zt.type.method){let g=x(y.params.id),u=T.get(g);if(X.isRequestMessage(u)){let m=r==null?void 0:r.connectionStrategy,w=m&&m.cancelUndispatched?m.cancelUndispatched(u,H):H(u);if(w&&(w.error!==void 0||w.result!==void 0)){T.delete(g),w.id=u.id,St(w,y.method,Date.now()),e.write(w);return}}}U(T,y)}finally{yn()}};function mr(y){if(he())return;function g(q,A,z){let Z={jsonrpc:l,id:y.id};q instanceof X.ResponseError?Z.error=q.toJson():Z.result=q===void 0?null:q,St(Z,A,z),e.write(Z)}function u(q,A,z){let Z={jsonrpc:l,id:y.id,error:q.toJson()};St(Z,A,z),e.write(Z)}function m(q,A,z){q===void 0&&(q=null);let Z={jsonrpc:l,id:y.id,result:q};St(Z,A,z),e.write(Z)}_r(y);let w=f[y.method],d,a;w&&(d=w.type,a=w.handler);let R=Date.now();if(a||p){let q=String(y.id),A=k.receiver.createCancellationTokenSource(q);_[q]=A;try{let z;if(a)if(y.params===void 0){if(d!==void 0&&d.numberOfParams!==0){u(new X.ResponseError(X.ErrorCodes.InvalidParams,`Request ${y.method} defines ${d.numberOfParams} params but recevied none.`),y.method,R);return}z=a(A.token)}else if(Array.isArray(y.params)){if(d!==void 0&&d.parameterStructures===X.ParameterStructures.byName){u(new X.ResponseError(X.ErrorCodes.InvalidParams,`Request ${y.method} defines parameters by name but received parameters by position`),y.method,R);return}z=a(...y.params,A.token)}else{if(d!==void 0&&d.parameterStructures===X.ParameterStructures.byPosition){u(new X.ResponseError(X.ErrorCodes.InvalidParams,`Request ${y.method} defines parameters by position but received parameters by name`),y.method,R);return}z=a(y.params,A.token)}else p&&(z=p(y.method,y.params,A.token));let Z=z;z?Z.then?Z.then(ue=>{delete _[q],g(ue,y.method,R)},ue=>{delete _[q],ue instanceof X.ResponseError?u(ue,y.method,R):ue&&we.string(ue.message)?u(new X.ResponseError(X.ErrorCodes.InternalError,`Request ${y.method} failed with message: ${ue.message}`),y.method,R):u(new X.ResponseError(X.ErrorCodes.InternalError,`Request ${y.method} failed unexpectedly without providing any details.`),y.method,R)}):(delete _[q],g(z,y.method,R)):(delete _[q],m(z,y.method,R))}catch(z){delete _[q],z instanceof X.ResponseError?g(z,y.method,R):z&&we.string(z.message)?u(new X.ResponseError(X.ErrorCodes.InternalError,`Request ${y.method} failed with message: ${z.message}`),y.method,R):u(new X.ResponseError(X.ErrorCodes.InternalError,`Request ${y.method} failed unexpectedly without providing any details.`),y.method,R)}}else u(new X.ResponseError(X.ErrorCodes.MethodNotFound,`Unhandled method ${y.method}`),y.method,R)}function yr(y){if(!he())if(y.id===null)y.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(y.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let g=String(y.id),u=j[g];if(Cr(y,u),u){delete j[g];try{if(y.error){let m=y.error;u.reject(new X.ResponseError(m.code,m.message,m.data))}else if(y.result!==void 0)u.resolve(y.result);else throw new Error("Should never happen.")}catch(m){m.message?i.error(`Response handler '${u.method}' failed with message: ${m.message}`):i.error(`Response handler '${u.method}' failed unexpectedly.`)}}}}function Jt(y){if(he())return;let g,u;if(y.method===Zt.type.method)u=m=>{let w=m.id,d=_[String(w)];d&&d.cancel()};else{let m=b[y.method];m&&(u=m.handler,g=m.type)}if(u||v)try{Rr(y),u?y.params===void 0?(g!==void 0&&g.numberOfParams!==0&&g.parameterStructures!==X.ParameterStructures.byName&&i.error(`Notification ${y.method} defines ${g.numberOfParams} params but recevied none.`),u()):Array.isArray(y.params)?(g!==void 0&&(g.parameterStructures===X.ParameterStructures.byName&&i.error(`Notification ${y.method} defines parameters by name but received parameters by position`),g.numberOfParams!==y.params.length&&i.error(`Notification ${y.method} defines ${g.numberOfParams} params but received ${y.params.length} argumennts`)),u(...y.params)):(g!==void 0&&g.parameterStructures===X.ParameterStructures.byPosition&&i.error(`Notification ${y.method} defines parameters by position but received parameters by name`),u(y.params)):v&&v(y.method,y.params)}catch(m){m.message?i.error(`Notification handler '${y.method}' failed with message: ${m.message}`):i.error(`Notification handler '${y.method}' failed unexpectedly.`)}else I.fire(y)}function vr(y){if(!y){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(y,null,4)}`);let g=y;if(we.string(g.id)||we.number(g.id)){let u=String(g.id),m=j[u];m&&m.reject(new Error("The received response has neither a result nor an error property."))}}function br(y){if(!(C===pe.Off||!L))if(E===Ie.Text){let g;C===pe.Verbose&&y.params&&(g=`Params: ${JSON.stringify(y.params,null,4)}

`),L.log(`Sending request '${y.method} - (${y.id})'.`,g)}else it("send-request",y)}function wr(y){if(!(C===pe.Off||!L))if(E===Ie.Text){let g;C===pe.Verbose&&(y.params?g=`Params: ${JSON.stringify(y.params,null,4)}

`:g=`No parameters provided.

`),L.log(`Sending notification '${y.method}'.`,g)}else it("send-notification",y)}function St(y,g,u){if(!(C===pe.Off||!L))if(E===Ie.Text){let m;C===pe.Verbose&&(y.error&&y.error.data?m=`Error data: ${JSON.stringify(y.error.data,null,4)}

`:y.result?m=`Result: ${JSON.stringify(y.result,null,4)}

`:y.error===void 0&&(m=`No result returned.

`)),L.log(`Sending response '${g} - (${y.id})'. Processing request took ${Date.now()-u}ms`,m)}else it("send-response",y)}function _r(y){if(!(C===pe.Off||!L))if(E===Ie.Text){let g;C===pe.Verbose&&y.params&&(g=`Params: ${JSON.stringify(y.params,null,4)}

`),L.log(`Received request '${y.method} - (${y.id})'.`,g)}else it("receive-request",y)}function Rr(y){if(!(C===pe.Off||!L||y.method===Ur.type.method))if(E===Ie.Text){let g;C===pe.Verbose&&(y.params?g=`Params: ${JSON.stringify(y.params,null,4)}

`:g=`No parameters provided.

`),L.log(`Received notification '${y.method}'.`,g)}else it("receive-notification",y)}function Cr(y,g){if(!(C===pe.Off||!L))if(E===Ie.Text){let u;if(C===pe.Verbose&&(y.error&&y.error.data?u=`Error data: ${JSON.stringify(y.error.data,null,4)}

`:y.result?u=`Result: ${JSON.stringify(y.result,null,4)}

`:y.error===void 0&&(u=`No result returned.

`)),g){let m=y.error?` Request failed: ${y.error.message} (${y.error.code}).`:"";L.log(`Received response '${g.method} - (${y.id})' in ${Date.now()-g.timerStart}ms.${m}`,u)}else L.log(`Received response ${y.id} without active response promise.`,u)}else it("receive-response",y)}function it(y,g){if(!L||C===pe.Off)return;let u={isLSPMessage:!0,type:y,message:g,timestamp:Date.now()};L.log(u)}function gt(){if(te())throw new wt(Tn.Closed,"Connection is closed.");if(he())throw new wt(Tn.Disposed,"Connection is disposed.")}function Pr(){if(ee())throw new wt(Tn.AlreadyListening,"Connection is already listening")}function qr(){if(!ee())throw new Error("Call listen() first.")}function pt(y){return y===void 0?null:y}function vn(y){if(y!==null)return y}function bn(y){return y!=null&&!Array.isArray(y)&&typeof y=="object"}function Gt(y,g){switch(y){case X.ParameterStructures.auto:return bn(g)?vn(g):[pt(g)];case X.ParameterStructures.byName:if(!bn(g))throw new Error("Recevied parameters by name but param is not an object literal.");return vn(g);case X.ParameterStructures.byPosition:return[pt(g)];default:throw new Error(`Unknown parameter structure ${y.toString()}`)}}function wn(y,g){let u,m=y.numberOfParams;switch(m){case 0:u=void 0;break;case 1:u=Gt(y.parameterStructures,g[0]);break;default:u=[];for(let w=0;w<g.length&&w<m;w++)u.push(pt(g[w]));if(g.length<m)for(let w=g.length;w<m;w++)u.push(null);break}return u}let ot={sendNotification:(y,...g)=>{gt();let u,m;if(we.string(y)){u=y;let d=g[0],a=0,R=X.ParameterStructures.auto;X.ParameterStructures.is(d)&&(a=1,R=d);let q=g.length,A=q-a;switch(A){case 0:m=void 0;break;case 1:m=Gt(R,g[a]);break;default:if(R===X.ParameterStructures.byName)throw new Error(`Recevied ${A} parameters for 'by Name' notification parameter structure.`);m=g.slice(a,q).map(z=>pt(z));break}}else{let d=g;u=y.method,m=wn(y,d)}let w={jsonrpc:l,method:u,params:m};wr(w),e.write(w)},onNotification:(y,g)=>{gt();let u;return we.func(y)?v=y:g&&(we.string(y)?(u=y,b[y]={type:void 0,handler:g}):(u=y.method,b[y.method]={type:y,handler:g})),{dispose:()=>{u!==void 0?delete b[u]:v=void 0}}},onProgress:(y,g,u)=>{if(P.has(g))throw new Error(`Progress handler for token ${g} already registered`);return P.set(g,u),{dispose:()=>{P.delete(g)}}},sendProgress:(y,g,u)=>{ot.sendNotification(kn.type,{token:g,value:u})},onUnhandledProgress:Y.event,sendRequest:(y,...g)=>{gt(),qr();let u,m,w;if(we.string(y)){u=y;let q=g[0],A=g[g.length-1],z=0,Z=X.ParameterStructures.auto;X.ParameterStructures.is(q)&&(z=1,Z=q);let ue=g.length;Hr.CancellationToken.is(A)&&(ue=ue-1,w=A);let ve=ue-z;switch(ve){case 0:m=void 0;break;case 1:m=Gt(Z,g[z]);break;default:if(Z===X.ParameterStructures.byName)throw new Error(`Recevied ${ve} parameters for 'by Name' request parameter structure.`);m=g.slice(z,ue).map(be=>pt(be));break}}else{let q=g;u=y.method,m=wn(y,q);let A=y.numberOfParams;w=Hr.CancellationToken.is(q[A])?q[A]:void 0}let d=s++,a;return w&&(a=w.onCancellationRequested(()=>{k.sender.sendCancellation(ot,d)})),new Promise((q,A)=>{let z={jsonrpc:l,id:d,method:u,params:m},Z=be=>{q(be),k.sender.cleanup(d),a==null||a.dispose()},ue=be=>{A(be),k.sender.cleanup(d),a==null||a.dispose()},ve={method:u,timerStart:Date.now(),resolve:Z,reject:ue};br(z);try{e.write(z)}catch(be){ve.reject(new X.ResponseError(X.ErrorCodes.MessageWriteError,be.message?be.message:"Unknown reason")),ve=null}ve&&(j[String(d)]=ve)})},onRequest:(y,g)=>{gt();let u=null;return zr.is(y)?(u=void 0,p=y):we.string(y)?(u=null,g!==void 0&&(u=y,f[y]={handler:g,type:void 0})):g!==void 0&&(u=y.method,f[y.method]={type:y,handler:g}),{dispose:()=>{u!==null&&(u!==void 0?delete f[u]:p=void 0)}}},trace:(y,g,u)=>{let m=!1,w=Ie.Text;u!==void 0&&(we.boolean(u)?m=u:(m=u.sendNotification||!1,w=u.traceFormat||Ie.Text)),C=y,E=w,C===pe.Off?L=void 0:L=g,m&&!te()&&!he()&&ot.sendNotification(ds.type,{value:pe.toString(y)})},onError:J.event,onClose:se.event,onUnhandledNotification:I.event,onDispose:D.event,end:()=>{e.end()},dispose:()=>{if(he())return;W=Le.Disposed,D.fire(void 0);let y=new Error("Connection got disposed.");Object.keys(j).forEach(g=>{j[g].reject(y)}),j=Object.create(null),_=Object.create(null),T=new ls.LinkedMap,we.func(e.dispose)&&e.dispose(),we.func(t.dispose)&&t.dispose()},listen:()=>{gt(),Pr(),W=Le.Listening,t.listen(pr)},inspect:()=>{cs.default().console.log("inspect")}};return ot.onNotification(Ur.type,y=>{C===pe.Off||!L||L.log(y.message,C===pe.Verbose?y.verbose:void 0)}),ot.onNotification(kn.type,y=>{let g=P.get(y.token);g?g(y.value):Y.fire(y)}),ot}K.createMessageConnection=jl});var Qr=N(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.CancellationSenderStrategy=O.CancellationReceiverStrategy=O.ConnectionError=O.ConnectionErrors=O.LogTraceNotification=O.SetTraceNotification=O.TraceFormat=O.Trace=O.ProgressType=O.createMessageConnection=O.NullLogger=O.ConnectionOptions=O.ConnectionStrategy=O.WriteableStreamMessageWriter=O.AbstractMessageWriter=O.MessageWriter=O.ReadableStreamMessageReader=O.AbstractMessageReader=O.MessageReader=O.CancellationToken=O.CancellationTokenSource=O.Emitter=O.Event=O.Disposable=O.ParameterStructures=O.NotificationType9=O.NotificationType8=O.NotificationType7=O.NotificationType6=O.NotificationType5=O.NotificationType4=O.NotificationType3=O.NotificationType2=O.NotificationType1=O.NotificationType0=O.NotificationType=O.ErrorCodes=O.ResponseError=O.RequestType9=O.RequestType8=O.RequestType7=O.RequestType6=O.RequestType5=O.RequestType4=O.RequestType3=O.RequestType2=O.RequestType1=O.RequestType0=O.RequestType=O.RAL=void 0;O.CancellationStrategy=void 0;var ce=xr();Object.defineProperty(O,"RequestType",{enumerable:!0,get:function(){return ce.RequestType}});Object.defineProperty(O,"RequestType0",{enumerable:!0,get:function(){return ce.RequestType0}});Object.defineProperty(O,"RequestType1",{enumerable:!0,get:function(){return ce.RequestType1}});Object.defineProperty(O,"RequestType2",{enumerable:!0,get:function(){return ce.RequestType2}});Object.defineProperty(O,"RequestType3",{enumerable:!0,get:function(){return ce.RequestType3}});Object.defineProperty(O,"RequestType4",{enumerable:!0,get:function(){return ce.RequestType4}});Object.defineProperty(O,"RequestType5",{enumerable:!0,get:function(){return ce.RequestType5}});Object.defineProperty(O,"RequestType6",{enumerable:!0,get:function(){return ce.RequestType6}});Object.defineProperty(O,"RequestType7",{enumerable:!0,get:function(){return ce.RequestType7}});Object.defineProperty(O,"RequestType8",{enumerable:!0,get:function(){return ce.RequestType8}});Object.defineProperty(O,"RequestType9",{enumerable:!0,get:function(){return ce.RequestType9}});Object.defineProperty(O,"ResponseError",{enumerable:!0,get:function(){return ce.ResponseError}});Object.defineProperty(O,"ErrorCodes",{enumerable:!0,get:function(){return ce.ErrorCodes}});Object.defineProperty(O,"NotificationType",{enumerable:!0,get:function(){return ce.NotificationType}});Object.defineProperty(O,"NotificationType0",{enumerable:!0,get:function(){return ce.NotificationType0}});Object.defineProperty(O,"NotificationType1",{enumerable:!0,get:function(){return ce.NotificationType1}});Object.defineProperty(O,"NotificationType2",{enumerable:!0,get:function(){return ce.NotificationType2}});Object.defineProperty(O,"NotificationType3",{enumerable:!0,get:function(){return ce.NotificationType3}});Object.defineProperty(O,"NotificationType4",{enumerable:!0,get:function(){return ce.NotificationType4}});Object.defineProperty(O,"NotificationType5",{enumerable:!0,get:function(){return ce.NotificationType5}});Object.defineProperty(O,"NotificationType6",{enumerable:!0,get:function(){return ce.NotificationType6}});Object.defineProperty(O,"NotificationType7",{enumerable:!0,get:function(){return ce.NotificationType7}});Object.defineProperty(O,"NotificationType8",{enumerable:!0,get:function(){return ce.NotificationType8}});Object.defineProperty(O,"NotificationType9",{enumerable:!0,get:function(){return ce.NotificationType9}});Object.defineProperty(O,"ParameterStructures",{enumerable:!0,get:function(){return ce.ParameterStructures}});var Fl=Dr();Object.defineProperty(O,"Disposable",{enumerable:!0,get:function(){return Fl.Disposable}});var ps=Dt();Object.defineProperty(O,"Event",{enumerable:!0,get:function(){return ps.Event}});Object.defineProperty(O,"Emitter",{enumerable:!0,get:function(){return ps.Emitter}});var ms=Mr();Object.defineProperty(O,"CancellationTokenSource",{enumerable:!0,get:function(){return ms.CancellationTokenSource}});Object.defineProperty(O,"CancellationToken",{enumerable:!0,get:function(){return ms.CancellationToken}});var Yr=Zo();Object.defineProperty(O,"MessageReader",{enumerable:!0,get:function(){return Yr.MessageReader}});Object.defineProperty(O,"AbstractMessageReader",{enumerable:!0,get:function(){return Yr.AbstractMessageReader}});Object.defineProperty(O,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Yr.ReadableStreamMessageReader}});var Kr=ss();Object.defineProperty(O,"MessageWriter",{enumerable:!0,get:function(){return Kr.MessageWriter}});Object.defineProperty(O,"AbstractMessageWriter",{enumerable:!0,get:function(){return Kr.AbstractMessageWriter}});Object.defineProperty(O,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return Kr.WriteableStreamMessageWriter}});var Ee=gs();Object.defineProperty(O,"ConnectionStrategy",{enumerable:!0,get:function(){return Ee.ConnectionStrategy}});Object.defineProperty(O,"ConnectionOptions",{enumerable:!0,get:function(){return Ee.ConnectionOptions}});Object.defineProperty(O,"NullLogger",{enumerable:!0,get:function(){return Ee.NullLogger}});Object.defineProperty(O,"createMessageConnection",{enumerable:!0,get:function(){return Ee.createMessageConnection}});Object.defineProperty(O,"ProgressType",{enumerable:!0,get:function(){return Ee.ProgressType}});Object.defineProperty(O,"Trace",{enumerable:!0,get:function(){return Ee.Trace}});Object.defineProperty(O,"TraceFormat",{enumerable:!0,get:function(){return Ee.TraceFormat}});Object.defineProperty(O,"SetTraceNotification",{enumerable:!0,get:function(){return Ee.SetTraceNotification}});Object.defineProperty(O,"LogTraceNotification",{enumerable:!0,get:function(){return Ee.LogTraceNotification}});Object.defineProperty(O,"ConnectionErrors",{enumerable:!0,get:function(){return Ee.ConnectionErrors}});Object.defineProperty(O,"ConnectionError",{enumerable:!0,get:function(){return Ee.ConnectionError}});Object.defineProperty(O,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Ee.CancellationReceiverStrategy}});Object.defineProperty(O,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Ee.CancellationSenderStrategy}});Object.defineProperty(O,"CancellationStrategy",{enumerable:!0,get:function(){return Ee.CancellationStrategy}});var Ml=Qe();O.RAL=Ml.default});var jt=N(oe=>{"use strict";var Al=oe&&oe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Il=oe&&oe.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Al(e,t,n)};Object.defineProperty(oe,"__esModule",{value:!0});oe.createMessageConnection=oe.createServerSocketTransport=oe.createClientSocketTransport=oe.createServerPipeTransport=oe.createClientPipeTransport=oe.generateRandomPipeName=oe.StreamMessageWriter=oe.StreamMessageReader=oe.SocketMessageWriter=oe.SocketMessageReader=oe.IPCMessageWriter=oe.IPCMessageReader=void 0;var Ot=Co();Ot.default.install();var Ge=Qr(),ys=require("path"),Ll=require("os"),Wl=require("crypto"),Dn=require("net");Il(Qr(),oe);var vs=class extends Ge.AbstractMessageReader{constructor(e){super();this.process=e;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose())}listen(e){return this.process.on("message",e),Ge.Disposable.create(()=>this.process.off("message",e))}};oe.IPCMessageReader=vs;var bs=class extends Ge.AbstractMessageWriter{constructor(e){super();this.process=e,this.errorCount=0;let n=this.process;n.on("error",r=>this.fireError(r)),n.on("close",()=>this.fireClose)}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,n=>{n?(this.errorCount++,this.handleError(n,e)):this.errorCount=0}),Promise.resolve()}catch(n){return this.handleError(n,e),Promise.reject(n)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){}};oe.IPCMessageWriter=bs;var xt=class extends Ge.ReadableStreamMessageReader{constructor(e,n="utf-8"){super(Ot.default().stream.asReadableStream(e),n)}};oe.SocketMessageReader=xt;var Nt=class extends Ge.WriteableStreamMessageWriter{constructor(e,n){super(Ot.default().stream.asWritableStream(e),n);this.socket=e}dispose(){super.dispose(),this.socket.destroy()}};oe.SocketMessageWriter=Nt;var Vr=class extends Ge.ReadableStreamMessageReader{constructor(e,n){super(Ot.default().stream.asReadableStream(e),n)}};oe.StreamMessageReader=Vr;var Zr=class extends Ge.WriteableStreamMessageWriter{constructor(e,n){super(Ot.default().stream.asWritableStream(e),n)}};oe.StreamMessageWriter=Zr;var ws=process.env.XDG_RUNTIME_DIR,$l=new Map([["linux",107],["darwin",103]]);function Bl(){let t=Wl.randomBytes(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${t}-sock`;let e;ws?e=ys.join(ws,`vscode-ipc-${t}.sock`):e=ys.join(Ll.tmpdir(),`vscode-${t}.sock`);let n=$l.get(process.platform);return n!==void 0&&e.length>=n&&Ot.default().console.warn(`WARNING: IPC handle "${e}" is longer than ${n} characters.`),e}oe.generateRandomPipeName=Bl;function Hl(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=Dn.createServer(c=>{o.close(),n([new xt(c,e),new Nt(c,e)])});o.on("error",s),o.listen(t,()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}oe.createClientPipeTransport=Hl;function zl(t,e="utf-8"){let n=Dn.createConnection(t);return[new xt(n,e),new Nt(n,e)]}oe.createServerPipeTransport=zl;function Ul(t,e="utf-8"){let n,r=new Promise((i,s)=>{n=i});return new Promise((i,s)=>{let o=Dn.createServer(c=>{o.close(),n([new xt(c,e),new Nt(c,e)])});o.on("error",s),o.listen(t,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r})})})}oe.createClientSocketTransport=Ul;function Jl(t,e="utf-8"){let n=Dn.createConnection(t,"127.0.0.1");return[new xt(n,e),new Nt(n,e)]}oe.createServerSocketTransport=Jl;function Gl(t){let e=t;return e.read!==void 0&&e.addListener!==void 0}function Xl(t){let e=t;return e.write!==void 0&&e.addListener!==void 0}function Yl(t,e,n,r){n||(n=Ge.NullLogger);let i=Gl(t)?new Vr(t):t,s=Xl(e)?new Zr(e):e;return Ge.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),Ge.createMessageConnection(i,s,n,r)}oe.createMessageConnection=Yl});var ei=N((I0,_s)=>{"use strict";_s.exports=jt()});var Cs=N((Rs,En)=>{(function(t){if(typeof En=="object"&&typeof En.exports=="object"){var e=t(require,Rs);e!==void 0&&(En.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=void 0;var n;(function(u){u.MIN_VALUE=-2147483648,u.MAX_VALUE=2147483647})(n=e.integer||(e.integer={}));var r;(function(u){u.MIN_VALUE=0,u.MAX_VALUE=2147483647})(r=e.uinteger||(e.uinteger={}));var i;(function(u){function m(d,a){return d===Number.MAX_VALUE&&(d=r.MAX_VALUE),a===Number.MAX_VALUE&&(a=r.MAX_VALUE),{line:d,character:a}}u.create=m;function w(d){var a=d;return g.objectLiteral(a)&&g.uinteger(a.line)&&g.uinteger(a.character)}u.is=w})(i=e.Position||(e.Position={}));var s;(function(u){function m(d,a,R,q){if(g.uinteger(d)&&g.uinteger(a)&&g.uinteger(R)&&g.uinteger(q))return{start:i.create(d,a),end:i.create(R,q)};if(i.is(d)&&i.is(a))return{start:d,end:a};throw new Error("Range#create called with invalid arguments["+d+", "+a+", "+R+", "+q+"]")}u.create=m;function w(d){var a=d;return g.objectLiteral(a)&&i.is(a.start)&&i.is(a.end)}u.is=w})(s=e.Range||(e.Range={}));var o;(function(u){function m(d,a){return{uri:d,range:a}}u.create=m;function w(d){var a=d;return g.defined(a)&&s.is(a.range)&&(g.string(a.uri)||g.undefined(a.uri))}u.is=w})(o=e.Location||(e.Location={}));var c;(function(u){function m(d,a,R,q){return{targetUri:d,targetRange:a,targetSelectionRange:R,originSelectionRange:q}}u.create=m;function w(d){var a=d;return g.defined(a)&&s.is(a.targetRange)&&g.string(a.targetUri)&&(s.is(a.targetSelectionRange)||g.undefined(a.targetSelectionRange))&&(s.is(a.originSelectionRange)||g.undefined(a.originSelectionRange))}u.is=w})(c=e.LocationLink||(e.LocationLink={}));var l;(function(u){function m(d,a,R,q){return{red:d,green:a,blue:R,alpha:q}}u.create=m;function w(d){var a=d;return g.numberRange(a.red,0,1)&&g.numberRange(a.green,0,1)&&g.numberRange(a.blue,0,1)&&g.numberRange(a.alpha,0,1)}u.is=w})(l=e.Color||(e.Color={}));var p;(function(u){function m(d,a){return{range:d,color:a}}u.create=m;function w(d){var a=d;return s.is(a.range)&&l.is(a.color)}u.is=w})(p=e.ColorInformation||(e.ColorInformation={}));var f;(function(u){function m(d,a,R){return{label:d,textEdit:a,additionalTextEdits:R}}u.create=m;function w(d){var a=d;return g.string(a.label)&&(g.undefined(a.textEdit)||E.is(a))&&(g.undefined(a.additionalTextEdits)||g.typedArray(a.additionalTextEdits,E.is))}u.is=w})(f=e.ColorPresentation||(e.ColorPresentation={}));var v;(function(u){u.Comment="comment",u.Imports="imports",u.Region="region"})(v=e.FoldingRangeKind||(e.FoldingRangeKind={}));var b;(function(u){function m(d,a,R,q,A){var z={startLine:d,endLine:a};return g.defined(R)&&(z.startCharacter=R),g.defined(q)&&(z.endCharacter=q),g.defined(A)&&(z.kind=A),z}u.create=m;function w(d){var a=d;return g.uinteger(a.startLine)&&g.uinteger(a.startLine)&&(g.undefined(a.startCharacter)||g.uinteger(a.startCharacter))&&(g.undefined(a.endCharacter)||g.uinteger(a.endCharacter))&&(g.undefined(a.kind)||g.string(a.kind))}u.is=w})(b=e.FoldingRange||(e.FoldingRange={}));var P;(function(u){function m(d,a){return{location:d,message:a}}u.create=m;function w(d){var a=d;return g.defined(a)&&o.is(a.location)&&g.string(a.message)}u.is=w})(P=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var S;(function(u){u.Error=1,u.Warning=2,u.Information=3,u.Hint=4})(S=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var T;(function(u){u.Unnecessary=1,u.Deprecated=2})(T=e.DiagnosticTag||(e.DiagnosticTag={}));var j;(function(u){function m(w){var d=w;return d!=null&&g.string(d.href)}u.is=m})(j=e.CodeDescription||(e.CodeDescription={}));var _;(function(u){function m(d,a,R,q,A,z){var Z={range:d,message:a};return g.defined(R)&&(Z.severity=R),g.defined(q)&&(Z.code=q),g.defined(A)&&(Z.source=A),g.defined(z)&&(Z.relatedInformation=z),Z}u.create=m;function w(d){var a,R=d;return g.defined(R)&&s.is(R.range)&&g.string(R.message)&&(g.number(R.severity)||g.undefined(R.severity))&&(g.integer(R.code)||g.string(R.code)||g.undefined(R.code))&&(g.undefined(R.codeDescription)||g.string((a=R.codeDescription)===null||a===void 0?void 0:a.href))&&(g.string(R.source)||g.undefined(R.source))&&(g.undefined(R.relatedInformation)||g.typedArray(R.relatedInformation,P.is))}u.is=w})(_=e.Diagnostic||(e.Diagnostic={}));var C;(function(u){function m(d,a){for(var R=[],q=2;q<arguments.length;q++)R[q-2]=arguments[q];var A={title:d,command:a};return g.defined(R)&&R.length>0&&(A.arguments=R),A}u.create=m;function w(d){var a=d;return g.defined(a)&&g.string(a.title)&&g.string(a.command)}u.is=w})(C=e.Command||(e.Command={}));var E;(function(u){function m(R,q){return{range:R,newText:q}}u.replace=m;function w(R,q){return{range:{start:R,end:R},newText:q}}u.insert=w;function d(R){return{range:R,newText:""}}u.del=d;function a(R){var q=R;return g.objectLiteral(q)&&g.string(q.newText)&&s.is(q.range)}u.is=a})(E=e.TextEdit||(e.TextEdit={}));var L;(function(u){function m(d,a,R){var q={label:d};return a!==void 0&&(q.needsConfirmation=a),R!==void 0&&(q.description=R),q}u.create=m;function w(d){var a=d;return a!==void 0&&g.objectLiteral(a)&&g.string(a.label)&&(g.boolean(a.needsConfirmation)||a.needsConfirmation===void 0)&&(g.string(a.description)||a.description===void 0)}u.is=w})(L=e.ChangeAnnotation||(e.ChangeAnnotation={}));var W;(function(u){function m(w){var d=w;return typeof d=="string"}u.is=m})(W=e.ChangeAnnotationIdentifier||(e.ChangeAnnotationIdentifier={}));var J;(function(u){function m(R,q,A){return{range:R,newText:q,annotationId:A}}u.replace=m;function w(R,q,A){return{range:{start:R,end:R},newText:q,annotationId:A}}u.insert=w;function d(R,q){return{range:R,newText:"",annotationId:q}}u.del=d;function a(R){var q=R;return E.is(q)&&(L.is(q.annotationId)||W.is(q.annotationId))}u.is=a})(J=e.AnnotatedTextEdit||(e.AnnotatedTextEdit={}));var se;(function(u){function m(d,a){return{textDocument:d,edits:a}}u.create=m;function w(d){var a=d;return g.defined(a)&&ee.is(a.textDocument)&&Array.isArray(a.edits)}u.is=w})(se=e.TextDocumentEdit||(e.TextDocumentEdit={}));var I;(function(u){function m(d,a,R){var q={kind:"create",uri:d};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(q.options=a),R!==void 0&&(q.annotationId=R),q}u.create=m;function w(d){var a=d;return a&&a.kind==="create"&&g.string(a.uri)&&(a.options===void 0||(a.options.overwrite===void 0||g.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||g.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||W.is(a.annotationId))}u.is=w})(I=e.CreateFile||(e.CreateFile={}));var Y;(function(u){function m(d,a,R,q){var A={kind:"rename",oldUri:d,newUri:a};return R!==void 0&&(R.overwrite!==void 0||R.ignoreIfExists!==void 0)&&(A.options=R),q!==void 0&&(A.annotationId=q),A}u.create=m;function w(d){var a=d;return a&&a.kind==="rename"&&g.string(a.oldUri)&&g.string(a.newUri)&&(a.options===void 0||(a.options.overwrite===void 0||g.boolean(a.options.overwrite))&&(a.options.ignoreIfExists===void 0||g.boolean(a.options.ignoreIfExists)))&&(a.annotationId===void 0||W.is(a.annotationId))}u.is=w})(Y=e.RenameFile||(e.RenameFile={}));var D;(function(u){function m(d,a,R){var q={kind:"delete",uri:d};return a!==void 0&&(a.recursive!==void 0||a.ignoreIfNotExists!==void 0)&&(q.options=a),R!==void 0&&(q.annotationId=R),q}u.create=m;function w(d){var a=d;return a&&a.kind==="delete"&&g.string(a.uri)&&(a.options===void 0||(a.options.recursive===void 0||g.boolean(a.options.recursive))&&(a.options.ignoreIfNotExists===void 0||g.boolean(a.options.ignoreIfNotExists)))&&(a.annotationId===void 0||W.is(a.annotationId))}u.is=w})(D=e.DeleteFile||(e.DeleteFile={}));var k;(function(u){function m(w){var d=w;return d&&(d.changes!==void 0||d.documentChanges!==void 0)&&(d.documentChanges===void 0||d.documentChanges.every(function(a){return g.string(a.kind)?I.is(a)||Y.is(a)||D.is(a):se.is(a)}))}u.is=m})(k=e.WorkspaceEdit||(e.WorkspaceEdit={}));var x=function(){function u(m,w){this.edits=m,this.changeAnnotations=w}return u.prototype.insert=function(m,w,d){var a,R;if(d===void 0?a=E.insert(m,w):W.is(d)?(R=d,a=J.insert(m,w,d)):(this.assertChangeAnnotations(this.changeAnnotations),R=this.changeAnnotations.manage(d),a=J.insert(m,w,R)),this.edits.push(a),R!==void 0)return R},u.prototype.replace=function(m,w,d){var a,R;if(d===void 0?a=E.replace(m,w):W.is(d)?(R=d,a=J.replace(m,w,d)):(this.assertChangeAnnotations(this.changeAnnotations),R=this.changeAnnotations.manage(d),a=J.replace(m,w,R)),this.edits.push(a),R!==void 0)return R},u.prototype.delete=function(m,w){var d,a;if(w===void 0?d=E.del(m):W.is(w)?(a=w,d=J.del(m,w)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(w),d=J.del(m,a)),this.edits.push(d),a!==void 0)return a},u.prototype.add=function(m){this.edits.push(m)},u.prototype.all=function(){return this.edits},u.prototype.clear=function(){this.edits.splice(0,this.edits.length)},u.prototype.assertChangeAnnotations=function(m){if(m===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},u}(),F=function(){function u(m){this._annotations=m===void 0?Object.create(null):m,this._counter=0,this._size=0}return u.prototype.all=function(){return this._annotations},Object.defineProperty(u.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),u.prototype.manage=function(m,w){var d;if(W.is(m)?d=m:(d=this.nextId(),w=m),this._annotations[d]!==void 0)throw new Error("Id "+d+" is already in use.");if(w===void 0)throw new Error("No annotation provided for id "+d);return this._annotations[d]=w,this._size++,d},u.prototype.nextId=function(){return this._counter++,this._counter.toString()},u}(),G=function(){function u(m){var w=this;this._textEditChanges=Object.create(null),m!==void 0?(this._workspaceEdit=m,m.documentChanges?(this._changeAnnotations=new F(m.changeAnnotations),m.changeAnnotations=this._changeAnnotations.all(),m.documentChanges.forEach(function(d){if(se.is(d)){var a=new x(d.edits,w._changeAnnotations);w._textEditChanges[d.textDocument.uri]=a}})):m.changes&&Object.keys(m.changes).forEach(function(d){var a=new x(m.changes[d]);w._textEditChanges[d]=a})):this._workspaceEdit={}}return Object.defineProperty(u.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),u.prototype.getTextEditChange=function(m){if(ee.is(m)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var w={uri:m.uri,version:m.version},d=this._textEditChanges[w.uri];if(!d){var a=[],R={textDocument:w,edits:a};this._workspaceEdit.documentChanges.push(R),d=new x(a,this._changeAnnotations),this._textEditChanges[w.uri]=d}return d}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var d=this._textEditChanges[m];if(!d){var a=[];this._workspaceEdit.changes[m]=a,d=new x(a),this._textEditChanges[m]=d}return d}},u.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new F,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},u.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},u.prototype.createFile=function(m,w,d){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;L.is(w)||W.is(w)?a=w:d=w;var R,q;if(a===void 0?R=I.create(m,d):(q=W.is(a)?a:this._changeAnnotations.manage(a),R=I.create(m,d,q)),this._workspaceEdit.documentChanges.push(R),q!==void 0)return q},u.prototype.renameFile=function(m,w,d,a){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var R;L.is(d)||W.is(d)?R=d:a=d;var q,A;if(R===void 0?q=Y.create(m,w,a):(A=W.is(R)?R:this._changeAnnotations.manage(R),q=Y.create(m,w,a,A)),this._workspaceEdit.documentChanges.push(q),A!==void 0)return A},u.prototype.deleteFile=function(m,w,d){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;L.is(w)||W.is(w)?a=w:d=w;var R,q;if(a===void 0?R=D.create(m,d):(q=W.is(a)?a:this._changeAnnotations.manage(a),R=D.create(m,d,q)),this._workspaceEdit.documentChanges.push(R),q!==void 0)return q},u}();e.WorkspaceChange=G;var U;(function(u){function m(d){return{uri:d}}u.create=m;function w(d){var a=d;return g.defined(a)&&g.string(a.uri)}u.is=w})(U=e.TextDocumentIdentifier||(e.TextDocumentIdentifier={}));var H;(function(u){function m(d,a){return{uri:d,version:a}}u.create=m;function w(d){var a=d;return g.defined(a)&&g.string(a.uri)&&g.integer(a.version)}u.is=w})(H=e.VersionedTextDocumentIdentifier||(e.VersionedTextDocumentIdentifier={}));var ee;(function(u){function m(d,a){return{uri:d,version:a}}u.create=m;function w(d){var a=d;return g.defined(a)&&g.string(a.uri)&&(a.version===null||g.integer(a.version))}u.is=w})(ee=e.OptionalVersionedTextDocumentIdentifier||(e.OptionalVersionedTextDocumentIdentifier={}));var te;(function(u){function m(d,a,R,q){return{uri:d,languageId:a,version:R,text:q}}u.create=m;function w(d){var a=d;return g.defined(a)&&g.string(a.uri)&&g.string(a.languageId)&&g.integer(a.version)&&g.string(a.text)}u.is=w})(te=e.TextDocumentItem||(e.TextDocumentItem={}));var he;(function(u){u.PlainText="plaintext",u.Markdown="markdown"})(he=e.MarkupKind||(e.MarkupKind={})),function(u){function m(w){var d=w;return d===u.PlainText||d===u.Markdown}u.is=m}(he=e.MarkupKind||(e.MarkupKind={}));var Ue;(function(u){function m(w){var d=w;return g.objectLiteral(w)&&he.is(d.kind)&&g.string(d.value)}u.is=m})(Ue=e.MarkupContent||(e.MarkupContent={}));var Je;(function(u){u.Text=1,u.Method=2,u.Function=3,u.Constructor=4,u.Field=5,u.Variable=6,u.Class=7,u.Interface=8,u.Module=9,u.Property=10,u.Unit=11,u.Value=12,u.Enum=13,u.Keyword=14,u.Snippet=15,u.Color=16,u.File=17,u.Reference=18,u.Folder=19,u.EnumMember=20,u.Constant=21,u.Struct=22,u.Event=23,u.Operator=24,u.TypeParameter=25})(Je=e.CompletionItemKind||(e.CompletionItemKind={}));var hr;(function(u){u.PlainText=1,u.Snippet=2})(hr=e.InsertTextFormat||(e.InsertTextFormat={}));var yn;(function(u){u.Deprecated=1})(yn=e.CompletionItemTag||(e.CompletionItemTag={}));var gr;(function(u){function m(d,a,R){return{newText:d,insert:a,replace:R}}u.create=m;function w(d){var a=d;return a&&g.string(a.newText)&&s.is(a.insert)&&s.is(a.replace)}u.is=w})(gr=e.InsertReplaceEdit||(e.InsertReplaceEdit={}));var pr;(function(u){u.asIs=1,u.adjustIndentation=2})(pr=e.InsertTextMode||(e.InsertTextMode={}));var mr;(function(u){function m(w){return{label:w}}u.create=m})(mr=e.CompletionItem||(e.CompletionItem={}));var yr;(function(u){function m(w,d){return{items:w||[],isIncomplete:!!d}}u.create=m})(yr=e.CompletionList||(e.CompletionList={}));var Jt;(function(u){function m(d){return d.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}u.fromPlainText=m;function w(d){var a=d;return g.string(a)||g.objectLiteral(a)&&g.string(a.language)&&g.string(a.value)}u.is=w})(Jt=e.MarkedString||(e.MarkedString={}));var vr;(function(u){function m(w){var d=w;return!!d&&g.objectLiteral(d)&&(Ue.is(d.contents)||Jt.is(d.contents)||g.typedArray(d.contents,Jt.is))&&(w.range===void 0||s.is(w.range))}u.is=m})(vr=e.Hover||(e.Hover={}));var br;(function(u){function m(w,d){return d?{label:w,documentation:d}:{label:w}}u.create=m})(br=e.ParameterInformation||(e.ParameterInformation={}));var wr;(function(u){function m(w,d){for(var a=[],R=2;R<arguments.length;R++)a[R-2]=arguments[R];var q={label:w};return g.defined(d)&&(q.documentation=d),g.defined(a)?q.parameters=a:q.parameters=[],q}u.create=m})(wr=e.SignatureInformation||(e.SignatureInformation={}));var St;(function(u){u.Text=1,u.Read=2,u.Write=3})(St=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));var _r;(function(u){function m(w,d){var a={range:w};return g.number(d)&&(a.kind=d),a}u.create=m})(_r=e.DocumentHighlight||(e.DocumentHighlight={}));var Rr;(function(u){u.File=1,u.Module=2,u.Namespace=3,u.Package=4,u.Class=5,u.Method=6,u.Property=7,u.Field=8,u.Constructor=9,u.Enum=10,u.Interface=11,u.Function=12,u.Variable=13,u.Constant=14,u.String=15,u.Number=16,u.Boolean=17,u.Array=18,u.Object=19,u.Key=20,u.Null=21,u.EnumMember=22,u.Struct=23,u.Event=24,u.Operator=25,u.TypeParameter=26})(Rr=e.SymbolKind||(e.SymbolKind={}));var Cr;(function(u){u.Deprecated=1})(Cr=e.SymbolTag||(e.SymbolTag={}));var it;(function(u){function m(w,d,a,R,q){var A={name:w,kind:d,location:{uri:R,range:a}};return q&&(A.containerName=q),A}u.create=m})(it=e.SymbolInformation||(e.SymbolInformation={}));var gt;(function(u){function m(d,a,R,q,A,z){var Z={name:d,detail:a,kind:R,range:q,selectionRange:A};return z!==void 0&&(Z.children=z),Z}u.create=m;function w(d){var a=d;return a&&g.string(a.name)&&g.number(a.kind)&&s.is(a.range)&&s.is(a.selectionRange)&&(a.detail===void 0||g.string(a.detail))&&(a.deprecated===void 0||g.boolean(a.deprecated))&&(a.children===void 0||Array.isArray(a.children))&&(a.tags===void 0||Array.isArray(a.tags))}u.is=w})(gt=e.DocumentSymbol||(e.DocumentSymbol={}));var Pr;(function(u){u.Empty="",u.QuickFix="quickfix",u.Refactor="refactor",u.RefactorExtract="refactor.extract",u.RefactorInline="refactor.inline",u.RefactorRewrite="refactor.rewrite",u.Source="source",u.SourceOrganizeImports="source.organizeImports",u.SourceFixAll="source.fixAll"})(Pr=e.CodeActionKind||(e.CodeActionKind={}));var qr;(function(u){function m(d,a){var R={diagnostics:d};return a!=null&&(R.only=a),R}u.create=m;function w(d){var a=d;return g.defined(a)&&g.typedArray(a.diagnostics,_.is)&&(a.only===void 0||g.typedArray(a.only,g.string))}u.is=w})(qr=e.CodeActionContext||(e.CodeActionContext={}));var pt;(function(u){function m(d,a,R){var q={title:d},A=!0;return typeof a=="string"?(A=!1,q.kind=a):C.is(a)?q.command=a:q.edit=a,A&&R!==void 0&&(q.kind=R),q}u.create=m;function w(d){var a=d;return a&&g.string(a.title)&&(a.diagnostics===void 0||g.typedArray(a.diagnostics,_.is))&&(a.kind===void 0||g.string(a.kind))&&(a.edit!==void 0||a.command!==void 0)&&(a.command===void 0||C.is(a.command))&&(a.isPreferred===void 0||g.boolean(a.isPreferred))&&(a.edit===void 0||k.is(a.edit))}u.is=w})(pt=e.CodeAction||(e.CodeAction={}));var vn;(function(u){function m(d,a){var R={range:d};return g.defined(a)&&(R.data=a),R}u.create=m;function w(d){var a=d;return g.defined(a)&&s.is(a.range)&&(g.undefined(a.command)||C.is(a.command))}u.is=w})(vn=e.CodeLens||(e.CodeLens={}));var bn;(function(u){function m(d,a){return{tabSize:d,insertSpaces:a}}u.create=m;function w(d){var a=d;return g.defined(a)&&g.uinteger(a.tabSize)&&g.boolean(a.insertSpaces)}u.is=w})(bn=e.FormattingOptions||(e.FormattingOptions={}));var Gt;(function(u){function m(d,a,R){return{range:d,target:a,data:R}}u.create=m;function w(d){var a=d;return g.defined(a)&&s.is(a.range)&&(g.undefined(a.target)||g.string(a.target))}u.is=w})(Gt=e.DocumentLink||(e.DocumentLink={}));var wn;(function(u){function m(d,a){return{range:d,parent:a}}u.create=m;function w(d){var a=d;return a!==void 0&&s.is(a.range)&&(a.parent===void 0||u.is(a.parent))}u.is=w})(wn=e.SelectionRange||(e.SelectionRange={})),e.EOL=[`
`,`\r
`,"\r"];var ot;(function(u){function m(R,q,A,z){return new y(R,q,A,z)}u.create=m;function w(R){var q=R;return!!(g.defined(q)&&g.string(q.uri)&&(g.undefined(q.languageId)||g.string(q.languageId))&&g.uinteger(q.lineCount)&&g.func(q.getText)&&g.func(q.positionAt)&&g.func(q.offsetAt))}u.is=w;function d(R,q){for(var A=R.getText(),z=a(q,function(kt,_n){var ho=kt.range.start.line-_n.range.start.line;return ho===0?kt.range.start.character-_n.range.start.character:ho}),Z=A.length,ue=z.length-1;ue>=0;ue--){var ve=z[ue],be=R.offsetAt(ve.range.start),re=R.offsetAt(ve.range.end);if(re<=Z)A=A.substring(0,be)+ve.newText+A.substring(re,A.length);else throw new Error("Overlapping edit");Z=be}return A}u.applyEdits=d;function a(R,q){if(R.length<=1)return R;var A=R.length/2|0,z=R.slice(0,A),Z=R.slice(A);a(z,q),a(Z,q);for(var ue=0,ve=0,be=0;ue<z.length&&ve<Z.length;){var re=q(z[ue],Z[ve]);re<=0?R[be++]=z[ue++]:R[be++]=Z[ve++]}for(;ue<z.length;)R[be++]=z[ue++];for(;ve<Z.length;)R[be++]=Z[ve++];return R}})(ot=e.TextDocument||(e.TextDocument={}));var y=function(){function u(m,w,d,a){this._uri=m,this._languageId=w,this._version=d,this._content=a,this._lineOffsets=void 0}return Object.defineProperty(u.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),u.prototype.getText=function(m){if(m){var w=this.offsetAt(m.start),d=this.offsetAt(m.end);return this._content.substring(w,d)}return this._content},u.prototype.update=function(m,w){this._content=m.text,this._version=w,this._lineOffsets=void 0},u.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var m=[],w=this._content,d=!0,a=0;a<w.length;a++){d&&(m.push(a),d=!1);var R=w.charAt(a);d=R==="\r"||R===`
`,R==="\r"&&a+1<w.length&&w.charAt(a+1)===`
`&&a++}d&&w.length>0&&m.push(w.length),this._lineOffsets=m}return this._lineOffsets},u.prototype.positionAt=function(m){m=Math.max(Math.min(m,this._content.length),0);var w=this.getLineOffsets(),d=0,a=w.length;if(a===0)return i.create(0,m);for(;d<a;){var R=Math.floor((d+a)/2);w[R]>m?a=R:d=R+1}var q=d-1;return i.create(q,m-w[q])},u.prototype.offsetAt=function(m){var w=this.getLineOffsets();if(m.line>=w.length)return this._content.length;if(m.line<0)return 0;var d=w[m.line],a=m.line+1<w.length?w[m.line+1]:this._content.length;return Math.max(Math.min(d+m.character,a),d)},Object.defineProperty(u.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),u}(),g;(function(u){var m=Object.prototype.toString;function w(re){return typeof re!="undefined"}u.defined=w;function d(re){return typeof re=="undefined"}u.undefined=d;function a(re){return re===!0||re===!1}u.boolean=a;function R(re){return m.call(re)==="[object String]"}u.string=R;function q(re){return m.call(re)==="[object Number]"}u.number=q;function A(re,kt,_n){return m.call(re)==="[object Number]"&&kt<=re&&re<=_n}u.numberRange=A;function z(re){return m.call(re)==="[object Number]"&&-2147483648<=re&&re<=2147483647}u.integer=z;function Z(re){return m.call(re)==="[object Number]"&&0<=re&&re<=2147483647}u.uinteger=Z;function ue(re){return m.call(re)==="[object Function]"}u.func=ue;function ve(re){return re!==null&&typeof re=="object"}u.objectLiteral=ve;function be(re,kt){return Array.isArray(re)&&re.every(kt)}u.typedArray=be})(g||(g={}))})});var _e=N(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.ProtocolNotificationType=Fe.ProtocolNotificationType0=Fe.ProtocolRequestType=Fe.ProtocolRequestType0=Fe.RegistrationType=void 0;var Ft=jt(),Ps=class{constructor(e){this.method=e}};Fe.RegistrationType=Ps;var qs=class extends Ft.RequestType0{constructor(e){super(e)}};Fe.ProtocolRequestType0=qs;var Ss=class extends Ft.RequestType{constructor(e){super(e,Ft.ParameterStructures.byName)}};Fe.ProtocolRequestType=Ss;var ks=class extends Ft.NotificationType0{constructor(e){super(e)}};Fe.ProtocolNotificationType0=ks;var Ts=class extends Ft.NotificationType{constructor(e){super(e,Ft.ParameterStructures.byName)}};Fe.ProtocolNotificationType=Ts});var Os=N(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.objectLiteral=me.typedArray=me.stringArray=me.array=me.func=me.error=me.number=me.string=me.boolean=void 0;function Kl(t){return t===!0||t===!1}me.boolean=Kl;function Ds(t){return typeof t=="string"||t instanceof String}me.string=Ds;function Ql(t){return typeof t=="number"||t instanceof Number}me.number=Ql;function Vl(t){return t instanceof Error}me.error=Vl;function Zl(t){return typeof t=="function"}me.func=Zl;function Es(t){return Array.isArray(t)}me.array=Es;function ef(t){return Es(t)&&t.every(e=>Ds(e))}me.stringArray=ef;function tf(t,e){return Array.isArray(t)&&t.every(e)}me.typedArray=tf;function nf(t){return t!==null&&typeof t=="object"}me.objectLiteral=nf});var xs=N(en=>{"use strict";Object.defineProperty(en,"__esModule",{value:!0});en.ImplementationRequest=void 0;var rf=_e(),of;(function(t){t.method="textDocument/implementation",t.type=new rf.ProtocolRequestType(t.method)})(of=en.ImplementationRequest||(en.ImplementationRequest={}))});var Ns=N(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.TypeDefinitionRequest=void 0;var sf=_e(),af;(function(t){t.method="textDocument/typeDefinition",t.type=new sf.ProtocolRequestType(t.method)})(af=tn.TypeDefinitionRequest||(tn.TypeDefinitionRequest={}))});var Fs=N(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.DidChangeWorkspaceFoldersNotification=st.WorkspaceFoldersRequest=void 0;var js=_e(),uf;(function(t){t.type=new js.ProtocolRequestType0("workspace/workspaceFolders")})(uf=st.WorkspaceFoldersRequest||(st.WorkspaceFoldersRequest={}));var cf;(function(t){t.type=new js.ProtocolNotificationType("workspace/didChangeWorkspaceFolders")})(cf=st.DidChangeWorkspaceFoldersNotification||(st.DidChangeWorkspaceFoldersNotification={}))});var Ms=N(nn=>{"use strict";Object.defineProperty(nn,"__esModule",{value:!0});nn.ConfigurationRequest=void 0;var lf=_e(),ff;(function(t){t.type=new lf.ProtocolRequestType("workspace/configuration")})(ff=nn.ConfigurationRequest||(nn.ConfigurationRequest={}))});var Is=N(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.ColorPresentationRequest=at.DocumentColorRequest=void 0;var As=_e(),df;(function(t){t.method="textDocument/documentColor",t.type=new As.ProtocolRequestType(t.method)})(df=at.DocumentColorRequest||(at.DocumentColorRequest={}));var hf;(function(t){t.type=new As.ProtocolRequestType("textDocument/colorPresentation")})(hf=at.ColorPresentationRequest||(at.ColorPresentationRequest={}))});var Ls=N(ut=>{"use strict";Object.defineProperty(ut,"__esModule",{value:!0});ut.FoldingRangeRequest=ut.FoldingRangeKind=void 0;var gf=_e(),pf;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(pf=ut.FoldingRangeKind||(ut.FoldingRangeKind={}));var mf;(function(t){t.method="textDocument/foldingRange",t.type=new gf.ProtocolRequestType(t.method)})(mf=ut.FoldingRangeRequest||(ut.FoldingRangeRequest={}))});var Ws=N(rn=>{"use strict";Object.defineProperty(rn,"__esModule",{value:!0});rn.DeclarationRequest=void 0;var yf=_e(),vf;(function(t){t.method="textDocument/declaration",t.type=new yf.ProtocolRequestType(t.method)})(vf=rn.DeclarationRequest||(rn.DeclarationRequest={}))});var $s=N(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.SelectionRangeRequest=void 0;var bf=_e(),wf;(function(t){t.method="textDocument/selectionRange",t.type=new bf.ProtocolRequestType(t.method)})(wf=on.SelectionRangeRequest||(on.SelectionRangeRequest={}))});var Hs=N(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.WorkDoneProgressCancelNotification=We.WorkDoneProgressCreateRequest=We.WorkDoneProgress=void 0;var _f=jt(),Bs=_e(),Rf;(function(t){t.type=new _f.ProgressType;function e(n){return n===t.type}t.is=e})(Rf=We.WorkDoneProgress||(We.WorkDoneProgress={}));var Cf;(function(t){t.type=new Bs.ProtocolRequestType("window/workDoneProgress/create")})(Cf=We.WorkDoneProgressCreateRequest||(We.WorkDoneProgressCreateRequest={}));var Pf;(function(t){t.type=new Bs.ProtocolNotificationType("window/workDoneProgress/cancel")})(Pf=We.WorkDoneProgressCancelNotification||(We.WorkDoneProgressCancelNotification={}))});var zs=N($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.CallHierarchyOutgoingCallsRequest=$e.CallHierarchyIncomingCallsRequest=$e.CallHierarchyPrepareRequest=void 0;var ti=_e(),qf;(function(t){t.method="textDocument/prepareCallHierarchy",t.type=new ti.ProtocolRequestType(t.method)})(qf=$e.CallHierarchyPrepareRequest||($e.CallHierarchyPrepareRequest={}));var Sf;(function(t){t.method="callHierarchy/incomingCalls",t.type=new ti.ProtocolRequestType(t.method)})(Sf=$e.CallHierarchyIncomingCallsRequest||($e.CallHierarchyIncomingCallsRequest={}));var kf;(function(t){t.method="callHierarchy/outgoingCalls",t.type=new ti.ProtocolRequestType(t.method)})(kf=$e.CallHierarchyOutgoingCallsRequest||($e.CallHierarchyOutgoingCallsRequest={}))});var Us=N(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.SemanticTokensRefreshRequest=ae.SemanticTokensRangeRequest=ae.SemanticTokensDeltaRequest=ae.SemanticTokensRequest=ae.SemanticTokensRegistrationType=ae.TokenFormat=ae.SemanticTokens=ae.SemanticTokenModifiers=ae.SemanticTokenTypes=void 0;var sn=_e(),Tf;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator"})(Tf=ae.SemanticTokenTypes||(ae.SemanticTokenTypes={}));var Df;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Df=ae.SemanticTokenModifiers||(ae.SemanticTokenModifiers={}));var Ef;(function(t){function e(n){let r=n;return r!==void 0&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Ef=ae.SemanticTokens||(ae.SemanticTokens={}));var Of;(function(t){t.Relative="relative"})(Of=ae.TokenFormat||(ae.TokenFormat={}));var xf;(function(t){t.method="textDocument/semanticTokens",t.type=new sn.RegistrationType(t.method)})(xf=ae.SemanticTokensRegistrationType||(ae.SemanticTokensRegistrationType={}));var Nf;(function(t){t.method="textDocument/semanticTokens/full",t.type=new sn.ProtocolRequestType(t.method)})(Nf=ae.SemanticTokensRequest||(ae.SemanticTokensRequest={}));var jf;(function(t){t.method="textDocument/semanticTokens/full/delta",t.type=new sn.ProtocolRequestType(t.method)})(jf=ae.SemanticTokensDeltaRequest||(ae.SemanticTokensDeltaRequest={}));var Ff;(function(t){t.method="textDocument/semanticTokens/range",t.type=new sn.ProtocolRequestType(t.method)})(Ff=ae.SemanticTokensRangeRequest||(ae.SemanticTokensRangeRequest={}));var Mf;(function(t){t.method="workspace/semanticTokens/refresh",t.type=new sn.ProtocolRequestType0(t.method)})(Mf=ae.SemanticTokensRefreshRequest||(ae.SemanticTokensRefreshRequest={}))});var Js=N(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.ShowDocumentRequest=void 0;var Af=_e(),If;(function(t){t.method="window/showDocument",t.type=new Af.ProtocolRequestType(t.method)})(If=an.ShowDocumentRequest||(an.ShowDocumentRequest={}))});var Gs=N(un=>{"use strict";Object.defineProperty(un,"__esModule",{value:!0});un.LinkedEditingRangeRequest=void 0;var Lf=_e(),Wf;(function(t){t.method="textDocument/linkedEditingRange",t.type=new Lf.ProtocolRequestType(t.method)})(Wf=un.LinkedEditingRangeRequest||(un.LinkedEditingRangeRequest={}))});var Xs=N(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.WillDeleteFilesRequest=fe.DidDeleteFilesNotification=fe.DidRenameFilesNotification=fe.WillRenameFilesRequest=fe.DidCreateFilesNotification=fe.WillCreateFilesRequest=fe.FileOperationPatternKind=void 0;var Mt=_e(),$f;(function(t){t.file="file",t.folder="folder"})($f=fe.FileOperationPatternKind||(fe.FileOperationPatternKind={}));var Bf;(function(t){t.method="workspace/willCreateFiles",t.type=new Mt.ProtocolRequestType(t.method)})(Bf=fe.WillCreateFilesRequest||(fe.WillCreateFilesRequest={}));var Hf;(function(t){t.method="workspace/didCreateFiles",t.type=new Mt.ProtocolNotificationType(t.method)})(Hf=fe.DidCreateFilesNotification||(fe.DidCreateFilesNotification={}));var zf;(function(t){t.method="workspace/willRenameFiles",t.type=new Mt.ProtocolRequestType(t.method)})(zf=fe.WillRenameFilesRequest||(fe.WillRenameFilesRequest={}));var Uf;(function(t){t.method="workspace/didRenameFiles",t.type=new Mt.ProtocolNotificationType(t.method)})(Uf=fe.DidRenameFilesNotification||(fe.DidRenameFilesNotification={}));var Jf;(function(t){t.method="workspace/didDeleteFiles",t.type=new Mt.ProtocolNotificationType(t.method)})(Jf=fe.DidDeleteFilesNotification||(fe.DidDeleteFilesNotification={}));var Gf;(function(t){t.method="workspace/willDeleteFiles",t.type=new Mt.ProtocolRequestType(t.method)})(Gf=fe.WillDeleteFilesRequest||(fe.WillDeleteFilesRequest={}))});var Ys=N(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.MonikerRequest=Be.MonikerKind=Be.UniquenessLevel=void 0;var Xf=_e(),Yf;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Yf=Be.UniquenessLevel||(Be.UniquenessLevel={}));var Kf;(function(t){t.import="import",t.export="export",t.local="local"})(Kf=Be.MonikerKind||(Be.MonikerKind={}));var Qf;(function(t){t.method="textDocument/moniker",t.type=new Xf.ProtocolRequestType(t.method)})(Qf=Be.MonikerRequest||(Be.MonikerRequest={}))});var ea=N(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.DocumentLinkRequest=h.CodeLensRefreshRequest=h.CodeLensResolveRequest=h.CodeLensRequest=h.WorkspaceSymbolRequest=h.CodeActionResolveRequest=h.CodeActionRequest=h.DocumentSymbolRequest=h.DocumentHighlightRequest=h.ReferencesRequest=h.DefinitionRequest=h.SignatureHelpRequest=h.SignatureHelpTriggerKind=h.HoverRequest=h.CompletionResolveRequest=h.CompletionRequest=h.CompletionTriggerKind=h.PublishDiagnosticsNotification=h.WatchKind=h.FileChangeType=h.DidChangeWatchedFilesNotification=h.WillSaveTextDocumentWaitUntilRequest=h.WillSaveTextDocumentNotification=h.TextDocumentSaveReason=h.DidSaveTextDocumentNotification=h.DidCloseTextDocumentNotification=h.DidChangeTextDocumentNotification=h.TextDocumentContentChangeEvent=h.DidOpenTextDocumentNotification=h.TextDocumentSyncKind=h.TelemetryEventNotification=h.LogMessageNotification=h.ShowMessageRequest=h.ShowMessageNotification=h.MessageType=h.DidChangeConfigurationNotification=h.ExitNotification=h.ShutdownRequest=h.InitializedNotification=h.InitializeError=h.InitializeRequest=h.WorkDoneProgressOptions=h.TextDocumentRegistrationOptions=h.StaticRegistrationOptions=h.FailureHandlingKind=h.ResourceOperationKind=h.UnregistrationRequest=h.RegistrationRequest=h.DocumentSelector=h.DocumentFilter=void 0;h.MonikerRequest=h.MonikerKind=h.UniquenessLevel=h.WillDeleteFilesRequest=h.DidDeleteFilesNotification=h.WillRenameFilesRequest=h.DidRenameFilesNotification=h.WillCreateFilesRequest=h.DidCreateFilesNotification=h.FileOperationPatternKind=h.LinkedEditingRangeRequest=h.ShowDocumentRequest=h.SemanticTokensRegistrationType=h.SemanticTokensRefreshRequest=h.SemanticTokensRangeRequest=h.SemanticTokensDeltaRequest=h.SemanticTokensRequest=h.TokenFormat=h.SemanticTokens=h.SemanticTokenModifiers=h.SemanticTokenTypes=h.CallHierarchyPrepareRequest=h.CallHierarchyOutgoingCallsRequest=h.CallHierarchyIncomingCallsRequest=h.WorkDoneProgressCancelNotification=h.WorkDoneProgressCreateRequest=h.WorkDoneProgress=h.SelectionRangeRequest=h.DeclarationRequest=h.FoldingRangeRequest=h.ColorPresentationRequest=h.DocumentColorRequest=h.ConfigurationRequest=h.DidChangeWorkspaceFoldersNotification=h.WorkspaceFoldersRequest=h.TypeDefinitionRequest=h.ImplementationRequest=h.ApplyWorkspaceEditRequest=h.ExecuteCommandRequest=h.PrepareRenameRequest=h.RenameRequest=h.PrepareSupportDefaultBehavior=h.DocumentOnTypeFormattingRequest=h.DocumentRangeFormattingRequest=h.DocumentFormattingRequest=h.DocumentLinkResolveRequest=void 0;var ct=Os(),Q=_e(),Vf=xs();Object.defineProperty(h,"ImplementationRequest",{enumerable:!0,get:function(){return Vf.ImplementationRequest}});var Zf=Ns();Object.defineProperty(h,"TypeDefinitionRequest",{enumerable:!0,get:function(){return Zf.TypeDefinitionRequest}});var Ks=Fs();Object.defineProperty(h,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Ks.WorkspaceFoldersRequest}});Object.defineProperty(h,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Ks.DidChangeWorkspaceFoldersNotification}});var ed=Ms();Object.defineProperty(h,"ConfigurationRequest",{enumerable:!0,get:function(){return ed.ConfigurationRequest}});var Qs=Is();Object.defineProperty(h,"DocumentColorRequest",{enumerable:!0,get:function(){return Qs.DocumentColorRequest}});Object.defineProperty(h,"ColorPresentationRequest",{enumerable:!0,get:function(){return Qs.ColorPresentationRequest}});var td=Ls();Object.defineProperty(h,"FoldingRangeRequest",{enumerable:!0,get:function(){return td.FoldingRangeRequest}});var nd=Ws();Object.defineProperty(h,"DeclarationRequest",{enumerable:!0,get:function(){return nd.DeclarationRequest}});var rd=$s();Object.defineProperty(h,"SelectionRangeRequest",{enumerable:!0,get:function(){return rd.SelectionRangeRequest}});var ni=Hs();Object.defineProperty(h,"WorkDoneProgress",{enumerable:!0,get:function(){return ni.WorkDoneProgress}});Object.defineProperty(h,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return ni.WorkDoneProgressCreateRequest}});Object.defineProperty(h,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return ni.WorkDoneProgressCancelNotification}});var ri=zs();Object.defineProperty(h,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return ri.CallHierarchyIncomingCallsRequest}});Object.defineProperty(h,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return ri.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(h,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return ri.CallHierarchyPrepareRequest}});var tt=Us();Object.defineProperty(h,"SemanticTokenTypes",{enumerable:!0,get:function(){return tt.SemanticTokenTypes}});Object.defineProperty(h,"SemanticTokenModifiers",{enumerable:!0,get:function(){return tt.SemanticTokenModifiers}});Object.defineProperty(h,"SemanticTokens",{enumerable:!0,get:function(){return tt.SemanticTokens}});Object.defineProperty(h,"TokenFormat",{enumerable:!0,get:function(){return tt.TokenFormat}});Object.defineProperty(h,"SemanticTokensRequest",{enumerable:!0,get:function(){return tt.SemanticTokensRequest}});Object.defineProperty(h,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return tt.SemanticTokensDeltaRequest}});Object.defineProperty(h,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return tt.SemanticTokensRangeRequest}});Object.defineProperty(h,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return tt.SemanticTokensRefreshRequest}});Object.defineProperty(h,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return tt.SemanticTokensRegistrationType}});var id=Js();Object.defineProperty(h,"ShowDocumentRequest",{enumerable:!0,get:function(){return id.ShowDocumentRequest}});var od=Gs();Object.defineProperty(h,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return od.LinkedEditingRangeRequest}});var _t=Xs();Object.defineProperty(h,"FileOperationPatternKind",{enumerable:!0,get:function(){return _t.FileOperationPatternKind}});Object.defineProperty(h,"DidCreateFilesNotification",{enumerable:!0,get:function(){return _t.DidCreateFilesNotification}});Object.defineProperty(h,"WillCreateFilesRequest",{enumerable:!0,get:function(){return _t.WillCreateFilesRequest}});Object.defineProperty(h,"DidRenameFilesNotification",{enumerable:!0,get:function(){return _t.DidRenameFilesNotification}});Object.defineProperty(h,"WillRenameFilesRequest",{enumerable:!0,get:function(){return _t.WillRenameFilesRequest}});Object.defineProperty(h,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return _t.DidDeleteFilesNotification}});Object.defineProperty(h,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return _t.WillDeleteFilesRequest}});var ii=Ys();Object.defineProperty(h,"UniquenessLevel",{enumerable:!0,get:function(){return ii.UniquenessLevel}});Object.defineProperty(h,"MonikerKind",{enumerable:!0,get:function(){return ii.MonikerKind}});Object.defineProperty(h,"MonikerRequest",{enumerable:!0,get:function(){return ii.MonikerRequest}});var Vs;(function(t){function e(n){let r=n;return ct.string(r.language)||ct.string(r.scheme)||ct.string(r.pattern)}t.is=e})(Vs=h.DocumentFilter||(h.DocumentFilter={}));var Zs;(function(t){function e(n){if(!Array.isArray(n))return!1;for(let r of n)if(!ct.string(r)&&!Vs.is(r))return!1;return!0}t.is=e})(Zs=h.DocumentSelector||(h.DocumentSelector={}));var sd;(function(t){t.type=new Q.ProtocolRequestType("client/registerCapability")})(sd=h.RegistrationRequest||(h.RegistrationRequest={}));var ad;(function(t){t.type=new Q.ProtocolRequestType("client/unregisterCapability")})(ad=h.UnregistrationRequest||(h.UnregistrationRequest={}));var ud;(function(t){t.Create="create",t.Rename="rename",t.Delete="delete"})(ud=h.ResourceOperationKind||(h.ResourceOperationKind={}));var cd;(function(t){t.Abort="abort",t.Transactional="transactional",t.TextOnlyTransactional="textOnlyTransactional",t.Undo="undo"})(cd=h.FailureHandlingKind||(h.FailureHandlingKind={}));var ld;(function(t){function e(n){let r=n;return r&&ct.string(r.id)&&r.id.length>0}t.hasId=e})(ld=h.StaticRegistrationOptions||(h.StaticRegistrationOptions={}));var fd;(function(t){function e(n){let r=n;return r&&(r.documentSelector===null||Zs.is(r.documentSelector))}t.is=e})(fd=h.TextDocumentRegistrationOptions||(h.TextDocumentRegistrationOptions={}));var dd;(function(t){function e(r){let i=r;return ct.objectLiteral(i)&&(i.workDoneProgress===void 0||ct.boolean(i.workDoneProgress))}t.is=e;function n(r){let i=r;return i&&ct.boolean(i.workDoneProgress)}t.hasWorkDoneProgress=n})(dd=h.WorkDoneProgressOptions||(h.WorkDoneProgressOptions={}));var hd;(function(t){t.type=new Q.ProtocolRequestType("initialize")})(hd=h.InitializeRequest||(h.InitializeRequest={}));var gd;(function(t){t.unknownProtocolVersion=1})(gd=h.InitializeError||(h.InitializeError={}));var pd;(function(t){t.type=new Q.ProtocolNotificationType("initialized")})(pd=h.InitializedNotification||(h.InitializedNotification={}));var md;(function(t){t.type=new Q.ProtocolRequestType0("shutdown")})(md=h.ShutdownRequest||(h.ShutdownRequest={}));var yd;(function(t){t.type=new Q.ProtocolNotificationType0("exit")})(yd=h.ExitNotification||(h.ExitNotification={}));var vd;(function(t){t.type=new Q.ProtocolNotificationType("workspace/didChangeConfiguration")})(vd=h.DidChangeConfigurationNotification||(h.DidChangeConfigurationNotification={}));var bd;(function(t){t.Error=1,t.Warning=2,t.Info=3,t.Log=4})(bd=h.MessageType||(h.MessageType={}));var wd;(function(t){t.type=new Q.ProtocolNotificationType("window/showMessage")})(wd=h.ShowMessageNotification||(h.ShowMessageNotification={}));var _d;(function(t){t.type=new Q.ProtocolRequestType("window/showMessageRequest")})(_d=h.ShowMessageRequest||(h.ShowMessageRequest={}));var Rd;(function(t){t.type=new Q.ProtocolNotificationType("window/logMessage")})(Rd=h.LogMessageNotification||(h.LogMessageNotification={}));var Cd;(function(t){t.type=new Q.ProtocolNotificationType("telemetry/event")})(Cd=h.TelemetryEventNotification||(h.TelemetryEventNotification={}));var Pd;(function(t){t.None=0,t.Full=1,t.Incremental=2})(Pd=h.TextDocumentSyncKind||(h.TextDocumentSyncKind={}));var qd;(function(t){t.method="textDocument/didOpen",t.type=new Q.ProtocolNotificationType(t.method)})(qd=h.DidOpenTextDocumentNotification||(h.DidOpenTextDocumentNotification={}));var Sd;(function(t){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}t.isIncremental=e;function n(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}t.isFull=n})(Sd=h.TextDocumentContentChangeEvent||(h.TextDocumentContentChangeEvent={}));var kd;(function(t){t.method="textDocument/didChange",t.type=new Q.ProtocolNotificationType(t.method)})(kd=h.DidChangeTextDocumentNotification||(h.DidChangeTextDocumentNotification={}));var Td;(function(t){t.method="textDocument/didClose",t.type=new Q.ProtocolNotificationType(t.method)})(Td=h.DidCloseTextDocumentNotification||(h.DidCloseTextDocumentNotification={}));var Dd;(function(t){t.method="textDocument/didSave",t.type=new Q.ProtocolNotificationType(t.method)})(Dd=h.DidSaveTextDocumentNotification||(h.DidSaveTextDocumentNotification={}));var Ed;(function(t){t.Manual=1,t.AfterDelay=2,t.FocusOut=3})(Ed=h.TextDocumentSaveReason||(h.TextDocumentSaveReason={}));var Od;(function(t){t.method="textDocument/willSave",t.type=new Q.ProtocolNotificationType(t.method)})(Od=h.WillSaveTextDocumentNotification||(h.WillSaveTextDocumentNotification={}));var xd;(function(t){t.method="textDocument/willSaveWaitUntil",t.type=new Q.ProtocolRequestType(t.method)})(xd=h.WillSaveTextDocumentWaitUntilRequest||(h.WillSaveTextDocumentWaitUntilRequest={}));var Nd;(function(t){t.type=new Q.ProtocolNotificationType("workspace/didChangeWatchedFiles")})(Nd=h.DidChangeWatchedFilesNotification||(h.DidChangeWatchedFilesNotification={}));var jd;(function(t){t.Created=1,t.Changed=2,t.Deleted=3})(jd=h.FileChangeType||(h.FileChangeType={}));var Fd;(function(t){t.Create=1,t.Change=2,t.Delete=4})(Fd=h.WatchKind||(h.WatchKind={}));var Md;(function(t){t.type=new Q.ProtocolNotificationType("textDocument/publishDiagnostics")})(Md=h.PublishDiagnosticsNotification||(h.PublishDiagnosticsNotification={}));var Ad;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.TriggerForIncompleteCompletions=3})(Ad=h.CompletionTriggerKind||(h.CompletionTriggerKind={}));var Id;(function(t){t.method="textDocument/completion",t.type=new Q.ProtocolRequestType(t.method)})(Id=h.CompletionRequest||(h.CompletionRequest={}));var Ld;(function(t){t.method="completionItem/resolve",t.type=new Q.ProtocolRequestType(t.method)})(Ld=h.CompletionResolveRequest||(h.CompletionResolveRequest={}));var Wd;(function(t){t.method="textDocument/hover",t.type=new Q.ProtocolRequestType(t.method)})(Wd=h.HoverRequest||(h.HoverRequest={}));var $d;(function(t){t.Invoked=1,t.TriggerCharacter=2,t.ContentChange=3})($d=h.SignatureHelpTriggerKind||(h.SignatureHelpTriggerKind={}));var Bd;(function(t){t.method="textDocument/signatureHelp",t.type=new Q.ProtocolRequestType(t.method)})(Bd=h.SignatureHelpRequest||(h.SignatureHelpRequest={}));var Hd;(function(t){t.method="textDocument/definition",t.type=new Q.ProtocolRequestType(t.method)})(Hd=h.DefinitionRequest||(h.DefinitionRequest={}));var zd;(function(t){t.method="textDocument/references",t.type=new Q.ProtocolRequestType(t.method)})(zd=h.ReferencesRequest||(h.ReferencesRequest={}));var Ud;(function(t){t.method="textDocument/documentHighlight",t.type=new Q.ProtocolRequestType(t.method)})(Ud=h.DocumentHighlightRequest||(h.DocumentHighlightRequest={}));var Jd;(function(t){t.method="textDocument/documentSymbol",t.type=new Q.ProtocolRequestType(t.method)})(Jd=h.DocumentSymbolRequest||(h.DocumentSymbolRequest={}));var Gd;(function(t){t.method="textDocument/codeAction",t.type=new Q.ProtocolRequestType(t.method)})(Gd=h.CodeActionRequest||(h.CodeActionRequest={}));var Xd;(function(t){t.method="codeAction/resolve",t.type=new Q.ProtocolRequestType(t.method)})(Xd=h.CodeActionResolveRequest||(h.CodeActionResolveRequest={}));var Yd;(function(t){t.method="workspace/symbol",t.type=new Q.ProtocolRequestType(t.method)})(Yd=h.WorkspaceSymbolRequest||(h.WorkspaceSymbolRequest={}));var Kd;(function(t){t.method="textDocument/codeLens",t.type=new Q.ProtocolRequestType(t.method)})(Kd=h.CodeLensRequest||(h.CodeLensRequest={}));var Qd;(function(t){t.method="codeLens/resolve",t.type=new Q.ProtocolRequestType(t.method)})(Qd=h.CodeLensResolveRequest||(h.CodeLensResolveRequest={}));var Vd;(function(t){t.method="workspace/codeLens/refresh",t.type=new Q.ProtocolRequestType0(t.method)})(Vd=h.CodeLensRefreshRequest||(h.CodeLensRefreshRequest={}));var Zd;(function(t){t.method="textDocument/documentLink",t.type=new Q.ProtocolRequestType(t.method)})(Zd=h.DocumentLinkRequest||(h.DocumentLinkRequest={}));var eh;(function(t){t.method="documentLink/resolve",t.type=new Q.ProtocolRequestType(t.method)})(eh=h.DocumentLinkResolveRequest||(h.DocumentLinkResolveRequest={}));var th;(function(t){t.method="textDocument/formatting",t.type=new Q.ProtocolRequestType(t.method)})(th=h.DocumentFormattingRequest||(h.DocumentFormattingRequest={}));var nh;(function(t){t.method="textDocument/rangeFormatting",t.type=new Q.ProtocolRequestType(t.method)})(nh=h.DocumentRangeFormattingRequest||(h.DocumentRangeFormattingRequest={}));var rh;(function(t){t.method="textDocument/onTypeFormatting",t.type=new Q.ProtocolRequestType(t.method)})(rh=h.DocumentOnTypeFormattingRequest||(h.DocumentOnTypeFormattingRequest={}));var ih;(function(t){t.Identifier=1})(ih=h.PrepareSupportDefaultBehavior||(h.PrepareSupportDefaultBehavior={}));var oh;(function(t){t.method="textDocument/rename",t.type=new Q.ProtocolRequestType(t.method)})(oh=h.RenameRequest||(h.RenameRequest={}));var sh;(function(t){t.method="textDocument/prepareRename",t.type=new Q.ProtocolRequestType(t.method)})(sh=h.PrepareRenameRequest||(h.PrepareRenameRequest={}));var ah;(function(t){t.type=new Q.ProtocolRequestType("workspace/executeCommand")})(ah=h.ExecuteCommandRequest||(h.ExecuteCommandRequest={}));var uh;(function(t){t.type=new Q.ProtocolRequestType("workspace/applyEdit")})(uh=h.ApplyWorkspaceEditRequest||(h.ApplyWorkspaceEditRequest={}))});var na=N(On=>{"use strict";Object.defineProperty(On,"__esModule",{value:!0});On.createProtocolConnection=void 0;var ta=jt();function ch(t,e,n,r){return ta.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),ta.createMessageConnection(t,e,n,r)}On.createProtocolConnection=ch});var ra=N(ke=>{"use strict";var lh=ke&&ke.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),xn=ke&&ke.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&lh(e,t,n)};Object.defineProperty(ke,"__esModule",{value:!0});ke.LSPErrorCodes=ke.createProtocolConnection=void 0;xn(jt(),ke);xn(Cs(),ke);xn(_e(),ke);xn(ea(),ke);var fh=na();Object.defineProperty(ke,"createProtocolConnection",{enumerable:!0,get:function(){return fh.createProtocolConnection}});var dh;(function(t){t.lspReservedErrorRangeStart=-32899,t.ContentModified=-32801,t.RequestCancelled=-32800,t.lspReservedErrorRangeEnd=-32800})(dh=ke.LSPErrorCodes||(ke.LSPErrorCodes={}))});var Oe=N(Xe=>{"use strict";var hh=Xe&&Xe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),ia=Xe&&Xe.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&hh(e,t,n)};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.createProtocolConnection=void 0;var gh=ei();ia(ei(),Xe);ia(ra(),Xe);function ph(t,e,n,r){return gh.createMessageConnection(t,e,n,r)}Xe.createProtocolConnection=ph});var oi=N(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.generateUuid=Me.parse=Me.isUUID=Me.v4=Me.empty=void 0;var Nn=class{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},ne=class extends Nn{constructor(){super([ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),"-",ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),"-","4",ne._randomHex(),ne._randomHex(),ne._randomHex(),"-",ne._oneOf(ne._timeHighBits),ne._randomHex(),ne._randomHex(),ne._randomHex(),"-",ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex(),ne._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return ne._oneOf(ne._chars)}};ne._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ne._timeHighBits=["8","9","a","b"];Me.empty=new Nn("00000000-0000-0000-0000-000000000000");function oa(){return new ne}Me.v4=oa;var mh=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function sa(t){return mh.test(t)}Me.isUUID=sa;function yh(t){if(!sa(t))throw new Error("invalid uuid");return new Nn(t)}Me.parse=yh;function vh(){return oa().asHex()}Me.generateUuid=vh});var ua=N(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.attachPartialResult=ft.ProgressFeature=ft.attachWorkDone=void 0;var lt=Oe(),bh=oi(),nt=class{constructor(e,n){this._connection=e,this._token=n,nt.Instances.set(this._token,this)}begin(e,n,r,i){let s={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(lt.WorkDoneProgress.type,this._token,s)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(lt.WorkDoneProgress.type,this._token,r)}done(){nt.Instances.delete(this._token),this._connection.sendProgress(lt.WorkDoneProgress.type,this._token,{kind:"end"})}};nt.Instances=new Map;var si=class extends nt{constructor(e,n){super(e,n);this._source=new lt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},jn=class{constructor(){}begin(){}report(){}done(){}},ai=class extends jn{constructor(){super();this._source=new lt.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function wh(t,e){if(e===void 0||e.workDoneToken===void 0)return new jn;let n=e.workDoneToken;return delete e.workDoneToken,new nt(t,n)}ft.attachWorkDone=wh;var _h=t=>class extends t{constructor(){super();this._progressSupported=!1}initialize(e){var n;((n=e==null?void 0:e.window)===null||n===void 0?void 0:n.workDoneProgress)===!0&&(this._progressSupported=!0,this.connection.onNotification(lt.WorkDoneProgressCancelNotification.type,r=>{let i=nt.Instances.get(r.token);(i instanceof si||i instanceof ai)&&i.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new jn:new nt(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){let e=bh.generateUuid();return this.connection.sendRequest(lt.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new si(this.connection,e))}else return Promise.resolve(new ai)}};ft.ProgressFeature=_h;var ui;(function(t){t.type=new lt.ProgressType})(ui||(ui={}));var aa=class{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(ui.type,this._token,e)}};function Rh(t,e){if(e===void 0||e.partialResultToken===void 0)return;let n=e.partialResultToken;return delete e.partialResultToken,new aa(t,n)}ft.attachPartialResult=Rh});var ca=N(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.ConfigurationFeature=void 0;var Ch=Oe(),Ph=Rn(),qh=t=>class extends t{getConfiguration(e){return e?Ph.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Ch.ConfigurationRequest.type,n).then(r=>Array.isArray(e)?r:r[0])}};Fn.ConfigurationFeature=qh});var la=N(An=>{"use strict";Object.defineProperty(An,"__esModule",{value:!0});An.WorkspaceFoldersFeature=void 0;var Mn=Oe(),Sh=t=>class extends t{initialize(e){let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Mn.Emitter,this.connection.onNotification(Mn.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}getWorkspaceFolders(){return this.connection.sendRequest(Mn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return this._unregistration||(this._unregistration=this.connection.client.register(Mn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};An.WorkspaceFoldersFeature=Sh});var fa=N(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});In.CallHierarchyFeature=void 0;var ci=Oe(),kh=t=>class extends t{get callHierarchy(){return{onPrepare:e=>{this.connection.onRequest(ci.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))},onIncomingCalls:e=>{let n=ci.CallHierarchyIncomingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{let n=ci.CallHierarchyOutgoingCallsRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};In.CallHierarchyFeature=kh});var fi=N(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.SemanticTokensBuilder=At.SemanticTokensFeature=void 0;var li=Oe(),Th=t=>class extends t{get semanticTokens(){return{on:e=>{let n=li.SemanticTokensRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{let n=li.SemanticTokensDeltaRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{let n=li.SemanticTokensRangeRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};At.SemanticTokensFeature=Th;var da=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,s){let o=e,c=n;this._dataLen>0&&(o-=this._prevLine,o===0&&(c-=this._prevChar)),this._data[this._dataLen++]=o,this._data[this._dataLen++]=c,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=s,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){if(this._prevData!==void 0){let e=this._prevData.length,n=this._data.length,r=0;for(;r<n&&r<e&&this._prevData[r]===this._data[r];)r++;if(r<n&&r<e){let i=0;for(;i<n&&i<e&&this._prevData[e-1-i]===this._data[n-1-i];)i++;let s=this._data.slice(r,n-i);return{resultId:this.id,edits:[{start:r,deleteCount:e-i-r,data:s}]}}else return r<n?{resultId:this.id,edits:[{start:r,deleteCount:0,data:this._data.slice(r)}]}:r<e?{resultId:this.id,edits:[{start:r,deleteCount:e-r}]}:{resultId:this.id,edits:[]}}else return this.build()}};At.SemanticTokensBuilder=da});var ha=N(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.ShowDocumentFeature=void 0;var Dh=Oe(),Eh=t=>class extends t{showDocument(e){return this.connection.sendRequest(Dh.ShowDocumentRequest.type,e)}};Ln.ShowDocumentFeature=Eh});var ga=N(Wn=>{"use strict";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.FileOperationsFeature=void 0;var It=Oe(),Oh=t=>class extends t{onDidCreateFiles(e){this.connection.onNotification(It.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){this.connection.onNotification(It.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){this.connection.onNotification(It.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(It.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(It.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(It.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};Wn.FileOperationsFeature=Oh});var pa=N($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.LinkedEditingRangeFeature=void 0;var xh=Oe(),Nh=t=>class extends t{onLinkedEditingRange(e){this.connection.onRequest(xh.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};$n.LinkedEditingRangeFeature=Nh});var ma=N(Bn=>{"use strict";Object.defineProperty(Bn,"__esModule",{value:!0});Bn.MonikerFeature=void 0;var jh=Oe(),Fh=t=>class extends t{get moniker(){return{on:e=>{let n=jh.MonikerRequest.type;this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Bn.MonikerFeature=Fh});var wi=N(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.createConnection=ie.combineFeatures=ie.combineLanguagesFeatures=ie.combineWorkspaceFeatures=ie.combineWindowFeatures=ie.combineClientFeatures=ie.combineTracerFeatures=ie.combineTelemetryFeatures=ie.combineConsoleFeatures=ie._LanguagesImpl=ie.BulkUnregistration=ie.BulkRegistration=ie.ErrorMessageTracker=ie.TextDocuments=void 0;var M=Oe(),Ae=Rn(),di=oi(),V=ua(),Mh=ca(),Ah=la(),Ih=fa(),Lh=fi(),Wh=ha(),$h=ga(),Bh=pa(),Hh=ma();function hi(t){if(t!==null)return t}var ya=class{constructor(e){this._documents=Object.create(null),this._configuration=e,this._onDidChangeContent=new M.Emitter,this._onDidOpen=new M.Emitter,this._onDidClose=new M.Emitter,this._onDidSave=new M.Emitter,this._onWillSave=new M.Emitter}get onDidChangeContent(){return this._onDidChangeContent.event}get onDidOpen(){return this._onDidOpen.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._documents[e]}all(){return Object.keys(this._documents).map(e=>this._documents[e])}keys(){return Object.keys(this._documents)}listen(e){e.__textDocumentSync=M.TextDocumentSyncKind.Full,e.onDidOpenTextDocument(n=>{let r=n.textDocument,i=this._configuration.create(r.uri,r.languageId,r.version,r.text);this._documents[r.uri]=i;let s=Object.freeze({document:i});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)}),e.onDidChangeTextDocument(n=>{let r=n.textDocument,i=n.contentChanges;if(i.length===0)return;let s=this._documents[r.uri],{version:o}=r;if(o==null)throw new Error(`Received document change event for ${r.uri} without valid version identifier`);s=this._configuration.update(s,i,o),this._documents[r.uri]=s,this._onDidChangeContent.fire(Object.freeze({document:s}))}),e.onDidCloseTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&(delete this._documents[n.textDocument.uri],this._onDidClose.fire(Object.freeze({document:r})))}),e.onWillSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onWillSave.fire(Object.freeze({document:r,reason:n.reason}))}),e.onWillSaveTextDocumentWaitUntil((n,r)=>{let i=this._documents[n.textDocument.uri];return i&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:i,reason:n.reason}),r):[]}),e.onDidSaveTextDocument(n=>{let r=this._documents[n.textDocument.uri];r&&this._onDidSave.fire(Object.freeze({document:r}))})}};ie.TextDocuments=ya;var va=class{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}};ie.ErrorMessageTracker=va;var gi=class{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(M.MessageType.Error,e)}warn(e){this.send(M.MessageType.Warning,e)}info(e){this.send(M.MessageType.Info,e)}log(e){this.send(M.MessageType.Log,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(M.LogMessageNotification.type,{type:e,message:n})}},ba=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:M.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(M.ShowMessageRequest.type,r).then(hi)}showWarningMessage(e,...n){let r={type:M.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(M.ShowMessageRequest.type,r).then(hi)}showInformationMessage(e,...n){let r={type:M.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(M.ShowMessageRequest.type,r).then(hi)}},wa=Wh.ShowDocumentFeature(V.ProgressFeature(ba)),zh;(function(t){function e(){return new pi}t.create=e})(zh=ie.BulkRegistration||(ie.BulkRegistration={}));var pi=class{constructor(){this._registrations=[],this._registered=new Set}add(e,n){let r=Ae.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);let i=di.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}},Uh;(function(t){function e(){return new Hn(void 0,[])}t.create=e})(Uh=ie.BulkUnregistration||(ie.BulkUnregistration={}));var Hn=class{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(M.UnregistrationRequest.type,n).then(void 0,r=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){let n=Ae.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(M.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},s=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}},mi=class{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof pi?this.registerMany(e):e instanceof Hn?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){let i=Ae.string(n)?n:n.method,s=di.generateUuid(),o={registrations:[{id:s,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(M.RegistrationRequest.type,o).then(c=>(e.add({id:s,method:i}),e),c=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(c)))}registerSingle2(e,n){let r=Ae.string(e)?e:e.method,i=di.generateUuid(),s={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(M.RegistrationRequest.type,s).then(o=>M.Disposable.create(()=>{this.unregisterSingle(i,r)}),o=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(o)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(M.UnregistrationRequest.type,r).then(void 0,i=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(M.RegistrationRequest.type,n).then(()=>new Hn(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}},_a=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(M.ApplyWorkspaceEditRequest.type,r)}},Ra=$h.FileOperationsFeature(Ah.WorkspaceFoldersFeature(Mh.ConfigurationFeature(_a))),yi=class{constructor(){this._trace=M.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==M.Trace.Off&&this.connection.sendNotification(M.LogTraceNotification.type,{message:e,verbose:this._trace===M.Trace.Verbose?n:void 0})}},vi=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(M.TelemetryEventNotification.type,e)}},bi=class{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return V.attachWorkDone(this.connection,e)}attachPartialResultProgress(e,n){return V.attachPartialResult(this.connection,n)}};ie._LanguagesImpl=bi;var Ca=Hh.MonikerFeature(Bh.LinkedEditingRangeFeature(Lh.SemanticTokensFeature(Ih.CallHierarchyFeature(bi))));function Pa(t,e){return function(n){return e(t(n))}}ie.combineConsoleFeatures=Pa;function qa(t,e){return function(n){return e(t(n))}}ie.combineTelemetryFeatures=qa;function Sa(t,e){return function(n){return e(t(n))}}ie.combineTracerFeatures=Sa;function ka(t,e){return function(n){return e(t(n))}}ie.combineClientFeatures=ka;function Ta(t,e){return function(n){return e(t(n))}}ie.combineWindowFeatures=Ta;function Da(t,e){return function(n){return e(t(n))}}ie.combineWorkspaceFeatures=Da;function Jh(t,e){return function(n){return e(t(n))}}ie.combineLanguagesFeatures=Jh;function Gh(t,e){function n(i,s,o){return i&&s?o(i,s):i||s}return{__brand:"features",console:n(t.console,e.console,Pa),tracer:n(t.tracer,e.tracer,Sa),telemetry:n(t.telemetry,e.telemetry,qa),client:n(t.client,e.client,ka),window:n(t.window,e.window,Ta),workspace:n(t.workspace,e.workspace,Da)}}ie.combineFeatures=Gh;function Xh(t,e,n){let r=n&&n.console?new(n.console(gi)):new gi,i=t(r);r.rawAttach(i);let s=n&&n.tracer?new(n.tracer(yi)):new yi,o=n&&n.telemetry?new(n.telemetry(vi)):new vi,c=n&&n.client?new(n.client(mi)):new mi,l=n&&n.window?new(n.window(wa)):new wa,p=n&&n.workspace?new(n.workspace(Ra)):new Ra,f=n&&n.languages?new(n.languages(Ca)):new Ca,v=[r,s,o,c,l,p,f];function b(_){return _ instanceof Promise?_:Ae.thenable(_)?new Promise((C,E)=>{_.then(L=>C(L),L=>E(L))}):Promise.resolve(_)}let P,S,T,j={listen:()=>i.listen(),sendRequest:(_,...C)=>i.sendRequest(Ae.string(_)?_:_.method,...C),onRequest:(_,C)=>i.onRequest(_,C),sendNotification:(_,C)=>{let E=Ae.string(_)?_:_.method;arguments.length===1?i.sendNotification(E):i.sendNotification(E,C)},onNotification:(_,C)=>i.onNotification(_,C),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:_=>S=_,onInitialized:_=>i.onNotification(M.InitializedNotification.type,_),onShutdown:_=>P=_,onExit:_=>T=_,get console(){return r},get telemetry(){return o},get tracer(){return s},get client(){return c},get window(){return l},get workspace(){return p},get languages(){return f},onDidChangeConfiguration:_=>i.onNotification(M.DidChangeConfigurationNotification.type,_),onDidChangeWatchedFiles:_=>i.onNotification(M.DidChangeWatchedFilesNotification.type,_),__textDocumentSync:void 0,onDidOpenTextDocument:_=>i.onNotification(M.DidOpenTextDocumentNotification.type,_),onDidChangeTextDocument:_=>i.onNotification(M.DidChangeTextDocumentNotification.type,_),onDidCloseTextDocument:_=>i.onNotification(M.DidCloseTextDocumentNotification.type,_),onWillSaveTextDocument:_=>i.onNotification(M.WillSaveTextDocumentNotification.type,_),onWillSaveTextDocumentWaitUntil:_=>i.onRequest(M.WillSaveTextDocumentWaitUntilRequest.type,_),onDidSaveTextDocument:_=>i.onNotification(M.DidSaveTextDocumentNotification.type,_),sendDiagnostics:_=>i.sendNotification(M.PublishDiagnosticsNotification.type,_),onHover:_=>i.onRequest(M.HoverRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),void 0)),onCompletion:_=>i.onRequest(M.CompletionRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onCompletionResolve:_=>i.onRequest(M.CompletionResolveRequest.type,_),onSignatureHelp:_=>i.onRequest(M.SignatureHelpRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),void 0)),onDeclaration:_=>i.onRequest(M.DeclarationRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onDefinition:_=>i.onRequest(M.DefinitionRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onTypeDefinition:_=>i.onRequest(M.TypeDefinitionRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onImplementation:_=>i.onRequest(M.ImplementationRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onReferences:_=>i.onRequest(M.ReferencesRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onDocumentHighlight:_=>i.onRequest(M.DocumentHighlightRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onDocumentSymbol:_=>i.onRequest(M.DocumentSymbolRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onWorkspaceSymbol:_=>i.onRequest(M.WorkspaceSymbolRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onCodeAction:_=>i.onRequest(M.CodeActionRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onCodeActionResolve:_=>i.onRequest(M.CodeActionResolveRequest.type,(C,E)=>_(C,E)),onCodeLens:_=>i.onRequest(M.CodeLensRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onCodeLensResolve:_=>i.onRequest(M.CodeLensResolveRequest.type,(C,E)=>_(C,E)),onDocumentFormatting:_=>i.onRequest(M.DocumentFormattingRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),void 0)),onDocumentRangeFormatting:_=>i.onRequest(M.DocumentRangeFormattingRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),void 0)),onDocumentOnTypeFormatting:_=>i.onRequest(M.DocumentOnTypeFormattingRequest.type,(C,E)=>_(C,E)),onRenameRequest:_=>i.onRequest(M.RenameRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),void 0)),onPrepareRename:_=>i.onRequest(M.PrepareRenameRequest.type,(C,E)=>_(C,E)),onDocumentLinks:_=>i.onRequest(M.DocumentLinkRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onDocumentLinkResolve:_=>i.onRequest(M.DocumentLinkResolveRequest.type,(C,E)=>_(C,E)),onDocumentColor:_=>i.onRequest(M.DocumentColorRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onColorPresentation:_=>i.onRequest(M.ColorPresentationRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onFoldingRanges:_=>i.onRequest(M.FoldingRangeRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onSelectionRanges:_=>i.onRequest(M.SelectionRangeRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),V.attachPartialResult(i,C))),onExecuteCommand:_=>i.onRequest(M.ExecuteCommandRequest.type,(C,E)=>_(C,E,V.attachWorkDone(i,C),void 0)),dispose:()=>i.dispose()};for(let _ of v)_.attach(j);return i.onRequest(M.InitializeRequest.type,_=>{e.initialize(_),Ae.string(_.trace)&&(s.trace=M.Trace.fromString(_.trace));for(let C of v)C.initialize(_.capabilities);if(S){let C=S(_,new M.CancellationTokenSource().token,V.attachWorkDone(i,_),void 0);return b(C).then(E=>{if(E instanceof M.ResponseError)return E;let L=E;L||(L={capabilities:{}});let W=L.capabilities;W||(W={},L.capabilities=W),W.textDocumentSync===void 0||W.textDocumentSync===null?W.textDocumentSync=Ae.number(j.__textDocumentSync)?j.__textDocumentSync:M.TextDocumentSyncKind.None:!Ae.number(W.textDocumentSync)&&!Ae.number(W.textDocumentSync.change)&&(W.textDocumentSync.change=Ae.number(j.__textDocumentSync)?j.__textDocumentSync:M.TextDocumentSyncKind.None);for(let J of v)J.fillServerCapabilities(W);return L})}else{let C={capabilities:{textDocumentSync:M.TextDocumentSyncKind.None}};for(let E of v)E.fillServerCapabilities(C.capabilities);return C}}),i.onRequest(M.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,P)return P(new M.CancellationTokenSource().token)}),i.onNotification(M.ExitNotification.type,()=>{try{T&&T()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(M.SetTraceNotification.type,_=>{s.trace=M.Trace.fromString(_.value)}),j}ie.createConnection=Xh});var Oa=N(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.resolveModulePath=Te.FileSystem=Te.resolveGlobalYarnPath=Te.resolveGlobalNodePath=Te.resolve=Te.uriToFilePath=void 0;var Yh=require("url"),He=require("path"),_i=require("fs"),Ri=require("child_process");function Kh(t){let e=Yh.parse(t);if(e.protocol!=="file:"||!e.path)return;let n=e.path.split("/");for(var r=0,i=n.length;r<i;r++)n[r]=decodeURIComponent(n[r]);if(process.platform==="win32"&&n.length>1){let s=n[0],o=n[1];s.length===0&&o.length>1&&o[1]===":"&&n.shift()}return He.normalize(n.join("/"))}Te.uriToFilePath=Kh;function Ci(){return process.platform==="win32"}function zn(t,e,n,r){let i="NODE_PATH",s=["var p = process;","p.on('message',function(m){","if(m.c==='e'){","p.exit(0);","}","else if(m.c==='rs'){","try{","var r=require.resolve(m.a);","p.send({c:'r',s:true,r:r});","}","catch(err){","p.send({c:'r',s:false});","}","}","});"].join("");return new Promise((o,c)=>{let l=process.env,p=Object.create(null);Object.keys(l).forEach(f=>p[f]=l[f]),e&&_i.existsSync(e)&&(p[i]?p[i]=e+He.delimiter+p[i]:p[i]=e,r&&r(`NODE_PATH value is: ${p[i]}`)),p.ELECTRON_RUN_AS_NODE="1";try{let f=Ri.fork("",[],{cwd:n,env:p,execArgv:["-e",s]});if(f.pid===void 0){c(new Error(`Starting process to resolve node module  ${t} failed`));return}f.on("error",b=>{c(b)}),f.on("message",b=>{b.c==="r"&&(f.send({c:"e"}),b.s?o(b.r):c(new Error(`Failed to resolve module: ${t}`)))});let v={c:"rs",a:t};f.send(v)}catch(f){c(f)}})}Te.resolve=zn;function Pi(t){let e="npm",n=Object.create(null);Object.keys(process.env).forEach(s=>n[s]=process.env[s]),n.NO_UPDATE_NOTIFIER="true";let r={encoding:"utf8",env:n};Ci()&&(e="npm.cmd",r.shell=!0);let i=()=>{};try{process.on("SIGPIPE",i);let s=Ri.spawnSync(e,["config","get","prefix"],r).stdout;if(!s){t&&t("'npm config get prefix' didn't return a value.");return}let o=s.trim();return t&&t(`'npm config get prefix' value is: ${o}`),o.length>0?Ci()?He.join(o,"node_modules"):He.join(o,"lib","node_modules"):void 0}catch{return}finally{process.removeListener("SIGPIPE",i)}}Te.resolveGlobalNodePath=Pi;function Qh(t){let e="yarn",n={encoding:"utf8"};Ci()&&(e="yarn.cmd",n.shell=!0);let r=()=>{};try{process.on("SIGPIPE",r);let i=Ri.spawnSync(e,["global","dir","--json"],n),s=i.stdout;if(!s){t&&(t("'yarn global dir' didn't return a value."),i.stderr&&t(i.stderr));return}let o=s.trim().split(/\r?\n/);for(let c of o)try{let l=JSON.parse(c);if(l.type==="log")return He.join(l.data,"node_modules")}catch{}return}catch{return}finally{process.removeListener("SIGPIPE",r)}}Te.resolveGlobalYarnPath=Qh;var Ea;(function(t){let e;function n(){return e!==void 0||(process.platform==="win32"?e=!1:e=!_i.existsSync(__filename.toUpperCase())||!_i.existsSync(__filename.toLowerCase())),e}t.isCaseSensitive=n;function r(i,s){return n()?He.normalize(s).indexOf(He.normalize(i))===0:He.normalize(s).toLowerCase().indexOf(He.normalize(i).toLowerCase())===0}t.isParent=r})(Ea=Te.FileSystem||(Te.FileSystem={}));function Vh(t,e,n,r){return n?(He.isAbsolute(n)||(n=He.join(t,n)),zn(e,n,n,r).then(i=>Ea.isParent(n,i)?i:Promise.reject(new Error(`Failed to load ${e} from node path location.`))).then(void 0,i=>zn(e,Pi(r),t,r))):zn(e,Pi(r),t,r)}Te.resolveModulePath=Vh});var qi=N((vm,xa)=>{"use strict";xa.exports=Oe()});var ja=N(xe=>{"use strict";var Zh=xe&&xe.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Na=xe&&xe.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Zh(e,t,n)};Object.defineProperty(xe,"__esModule",{value:!0});xe.ProposedFeatures=xe.SemanticTokensBuilder=void 0;var eg=fi();Object.defineProperty(xe,"SemanticTokensBuilder",{enumerable:!0,get:function(){return eg.SemanticTokensBuilder}});Na(Oe(),xe);Na(wi(),xe);var tg;(function(t){t.all={__brand:"features"}})(tg=xe.ProposedFeatures||(xe.ProposedFeatures={}))});var Ia=N(Ne=>{"use strict";var ng=Ne&&Ne.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Fa=Ne&&Ne.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&ng(e,t,n)};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.createConnection=Ne.Files=void 0;var Si=Rn(),rg=wi(),cn=Oa(),Rt=qi();Fa(qi(),Ne);Fa(ja(),Ne);var ig;(function(t){t.uriToFilePath=cn.uriToFilePath,t.resolveGlobalNodePath=cn.resolveGlobalNodePath,t.resolveGlobalYarnPath=cn.resolveGlobalYarnPath,t.resolve=cn.resolve,t.resolveModulePath=cn.resolveModulePath})(ig=Ne.Files||(Ne.Files={}));var Ma;function Un(){if(Ma!==void 0)try{Ma.end()}catch{}}var Lt=!1,Aa;function og(){let t="--clientProcessId";function e(n){try{let r=parseInt(n);isNaN(r)||(Aa=setInterval(()=>{try{process.kill(r,0)}catch{Un(),process.exit(Lt?0:1)}},3e3))}catch{}}for(let n=2;n<process.argv.length;n++){let r=process.argv[n];if(r===t&&n+1<process.argv.length){e(process.argv[n+1]);return}else{let i=r.split("=");i[0]===t&&e(i[1])}}}og();var sg={initialize:t=>{let e=t.processId;Si.number(e)&&Aa===void 0&&setInterval(()=>{try{process.kill(e,0)}catch{process.exit(Lt?0:1)}},3e3)},get shutdownReceived(){return Lt},set shutdownReceived(t){Lt=t},exit:t=>{Un(),process.exit(t)}};function ag(t,e,n,r){let i,s,o,c;return t!==void 0&&t.__brand==="features"&&(i=t,t=e,e=n,n=r),Rt.ConnectionStrategy.is(t)||Rt.ConnectionOptions.is(t)?c=t:(s=t,o=e,c=n),ug(s,o,c,i)}Ne.createConnection=ag;function ug(t,e,n,r){if(!t&&!e&&process.argv.length>2){let c,l,p=process.argv.slice(2);for(let f=0;f<p.length;f++){let v=p[f];if(v==="--node-ipc"){t=new Rt.IPCMessageReader(process),e=new Rt.IPCMessageWriter(process);break}else if(v==="--stdio"){t=process.stdin,e=process.stdout;break}else if(v==="--socket"){c=parseInt(p[f+1]);break}else if(v==="--pipe"){l=p[f+1];break}else{var i=v.split("=");if(i[0]==="--socket"){c=parseInt(i[1]);break}else if(i[0]==="--pipe"){l=i[1];break}}}if(c){let f=Rt.createServerSocketTransport(c);t=f[0],e=f[1]}else if(l){let f=Rt.createServerPipeTransport(l);t=f[0],e=f[1]}}var s="Use arguments of createConnection or set command line parameters: '--node-ipc', '--stdio' or '--socket={number}'";if(!t)throw new Error("Connection input stream is not set. "+s);if(!e)throw new Error("Connection output stream is not set. "+s);if(Si.func(t.read)&&Si.func(t.on)){let c=t;c.on("end",()=>{Un(),process.exit(Lt?0:1)}),c.on("close",()=>{Un(),process.exit(Lt?0:1)})}let o=c=>Rt.createProtocolConnection(t,e,c,n);return rg.createConnection(o,sg,r)}});var ki=N((_m,La)=>{"use strict";La.exports=Ia()});var Wa=N((Jn,Gn)=>{var cg=Jn&&Jn.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))};(function(t){if(typeof Gn=="object"&&typeof Gn.exports=="object"){var e=t(require,Jn);e!==void 0&&(Gn.exports=e)}else typeof define=="function"&&define.amd&&define(["require","exports"],t)})(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=void 0;var n=function(){function l(p,f,v,b){this._uri=p,this._languageId=f,this._version=v,this._content=b,this._lineOffsets=void 0}return Object.defineProperty(l.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(l.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),l.prototype.getText=function(p){if(p){var f=this.offsetAt(p.start),v=this.offsetAt(p.end);return this._content.substring(f,v)}return this._content},l.prototype.update=function(p,f){for(var v=0,b=p;v<b.length;v++){var P=b[v];if(l.isIncremental(P)){var S=o(P.range),T=this.offsetAt(S.start),j=this.offsetAt(S.end);this._content=this._content.substring(0,T)+P.text+this._content.substring(j,this._content.length);var _=Math.max(S.start.line,0),C=Math.max(S.end.line,0),E=this._lineOffsets,L=s(P.text,!1,T);if(C-_===L.length)for(var W=0,J=L.length;W<J;W++)E[W+_+1]=L[W];else L.length<1e4?E.splice.apply(E,cg([_+1,C-_],L,!1)):this._lineOffsets=E=E.slice(0,_+1).concat(L,E.slice(C+1));var se=P.text.length-(j-T);if(se!==0)for(var W=_+1+L.length,J=E.length;W<J;W++)E[W]=E[W]+se}else if(l.isFull(P))this._content=P.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received")}this._version=f},l.prototype.getLineOffsets=function(){return this._lineOffsets===void 0&&(this._lineOffsets=s(this._content,!0)),this._lineOffsets},l.prototype.positionAt=function(p){p=Math.max(Math.min(p,this._content.length),0);var f=this.getLineOffsets(),v=0,b=f.length;if(b===0)return{line:0,character:p};for(;v<b;){var P=Math.floor((v+b)/2);f[P]>p?b=P:v=P+1}var S=v-1;return{line:S,character:p-f[S]}},l.prototype.offsetAt=function(p){var f=this.getLineOffsets();if(p.line>=f.length)return this._content.length;if(p.line<0)return 0;var v=f[p.line],b=p.line+1<f.length?f[p.line+1]:this._content.length;return Math.max(Math.min(v+p.character,b),v)},Object.defineProperty(l.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),l.isIncremental=function(p){var f=p;return f!=null&&typeof f.text=="string"&&f.range!==void 0&&(f.rangeLength===void 0||typeof f.rangeLength=="number")},l.isFull=function(p){var f=p;return f!=null&&typeof f.text=="string"&&f.range===void 0&&f.rangeLength===void 0},l}(),r;(function(l){function p(b,P,S,T){return new n(b,P,S,T)}l.create=p;function f(b,P,S){if(b instanceof n)return b.update(P,S),b;throw new Error("TextDocument.update: document must be created by TextDocument.create")}l.update=f;function v(b,P){for(var S=b.getText(),T=i(P.map(c),function(J,se){var I=J.range.start.line-se.range.start.line;return I===0?J.range.start.character-se.range.start.character:I}),j=0,_=[],C=0,E=T;C<E.length;C++){var L=E[C],W=b.offsetAt(L.range.start);if(W<j)throw new Error("Overlapping edit");W>j&&_.push(S.substring(j,W)),L.newText.length&&_.push(L.newText),j=b.offsetAt(L.range.end)}return _.push(S.substr(j)),_.join("")}l.applyEdits=v})(r=e.TextDocument||(e.TextDocument={}));function i(l,p){if(l.length<=1)return l;var f=l.length/2|0,v=l.slice(0,f),b=l.slice(f);i(v,p),i(b,p);for(var P=0,S=0,T=0;P<v.length&&S<b.length;){var j=p(v[P],b[S]);j<=0?l[T++]=v[P++]:l[T++]=b[S++]}for(;P<v.length;)l[T++]=v[P++];for(;S<b.length;)l[T++]=b[S++];return l}function s(l,p,f){f===void 0&&(f=0);for(var v=p?[f]:[],b=0;b<l.length;b++){var P=l.charCodeAt(b);(P===13||P===10)&&(P===13&&b+1<l.length&&l.charCodeAt(b+1)===10&&b++,v.push(f+b+1))}return v}function o(l){var p=l.start,f=l.end;return p.line>f.line||p.line===f.line&&p.character>f.character?{start:f,end:p}:l}function c(l){var p=o(l.range);return p!==l.range?{newText:l.newText,range:p}:l}})});var $a=N((ln,Ti)=>{(function(t,e){if(typeof ln=="object"&&typeof Ti=="object")Ti.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var n=e();for(var r in n)(typeof ln=="object"?ln:t)[r]=n[r]}})(ln,function(){return(()=>{"use strict";var t={470:n=>{function r(o){if(typeof o!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(o))}function i(o,c){for(var l,p="",f=0,v=-1,b=0,P=0;P<=o.length;++P){if(P<o.length)l=o.charCodeAt(P);else{if(l===47)break;l=47}if(l===47){if(!(v===P-1||b===1))if(v!==P-1&&b===2){if(p.length<2||f!==2||p.charCodeAt(p.length-1)!==46||p.charCodeAt(p.length-2)!==46){if(p.length>2){var S=p.lastIndexOf("/");if(S!==p.length-1){S===-1?(p="",f=0):f=(p=p.slice(0,S)).length-1-p.lastIndexOf("/"),v=P,b=0;continue}}else if(p.length===2||p.length===1){p="",f=0,v=P,b=0;continue}}c&&(p.length>0?p+="/..":p="..",f=2)}else p.length>0?p+="/"+o.slice(v+1,P):p=o.slice(v+1,P),f=P-v-1;v=P,b=0}else l===46&&b!==-1?++b:b=-1}return p}var s={resolve:function(){for(var o,c="",l=!1,p=arguments.length-1;p>=-1&&!l;p--){var f;p>=0?f=arguments[p]:(o===void 0&&(o=process.cwd()),f=o),r(f),f.length!==0&&(c=f+"/"+c,l=f.charCodeAt(0)===47)}return c=i(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(o){if(r(o),o.length===0)return".";var c=o.charCodeAt(0)===47,l=o.charCodeAt(o.length-1)===47;return(o=i(o,!c)).length!==0||c||(o="."),o.length>0&&l&&(o+="/"),c?"/"+o:o},isAbsolute:function(o){return r(o),o.length>0&&o.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var o,c=0;c<arguments.length;++c){var l=arguments[c];r(l),l.length>0&&(o===void 0?o=l:o+="/"+l)}return o===void 0?".":s.normalize(o)},relative:function(o,c){if(r(o),r(c),o===c||(o=s.resolve(o))===(c=s.resolve(c)))return"";for(var l=1;l<o.length&&o.charCodeAt(l)===47;++l);for(var p=o.length,f=p-l,v=1;v<c.length&&c.charCodeAt(v)===47;++v);for(var b=c.length-v,P=f<b?f:b,S=-1,T=0;T<=P;++T){if(T===P){if(b>P){if(c.charCodeAt(v+T)===47)return c.slice(v+T+1);if(T===0)return c.slice(v+T)}else f>P&&(o.charCodeAt(l+T)===47?S=T:T===0&&(S=0));break}var j=o.charCodeAt(l+T);if(j!==c.charCodeAt(v+T))break;j===47&&(S=T)}var _="";for(T=l+S+1;T<=p;++T)T!==p&&o.charCodeAt(T)!==47||(_.length===0?_+="..":_+="/..");return _.length>0?_+c.slice(v+S):(v+=S,c.charCodeAt(v)===47&&++v,c.slice(v))},_makeLong:function(o){return o},dirname:function(o){if(r(o),o.length===0)return".";for(var c=o.charCodeAt(0),l=c===47,p=-1,f=!0,v=o.length-1;v>=1;--v)if((c=o.charCodeAt(v))===47){if(!f){p=v;break}}else f=!1;return p===-1?l?"/":".":l&&p===1?"//":o.slice(0,p)},basename:function(o,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');r(o);var l,p=0,f=-1,v=!0;if(c!==void 0&&c.length>0&&c.length<=o.length){if(c.length===o.length&&c===o)return"";var b=c.length-1,P=-1;for(l=o.length-1;l>=0;--l){var S=o.charCodeAt(l);if(S===47){if(!v){p=l+1;break}}else P===-1&&(v=!1,P=l+1),b>=0&&(S===c.charCodeAt(b)?--b==-1&&(f=l):(b=-1,f=P))}return p===f?f=P:f===-1&&(f=o.length),o.slice(p,f)}for(l=o.length-1;l>=0;--l)if(o.charCodeAt(l)===47){if(!v){p=l+1;break}}else f===-1&&(v=!1,f=l+1);return f===-1?"":o.slice(p,f)},extname:function(o){r(o);for(var c=-1,l=0,p=-1,f=!0,v=0,b=o.length-1;b>=0;--b){var P=o.charCodeAt(b);if(P!==47)p===-1&&(f=!1,p=b+1),P===46?c===-1?c=b:v!==1&&(v=1):c!==-1&&(v=-1);else if(!f){l=b+1;break}}return c===-1||p===-1||v===0||v===1&&c===p-1&&c===l+1?"":o.slice(c,p)},format:function(o){if(o===null||typeof o!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof o);return function(c,l){var p=l.dir||l.root,f=l.base||(l.name||"")+(l.ext||"");return p?p===l.root?p+f:p+"/"+f:f}(0,o)},parse:function(o){r(o);var c={root:"",dir:"",base:"",ext:"",name:""};if(o.length===0)return c;var l,p=o.charCodeAt(0),f=p===47;f?(c.root="/",l=1):l=0;for(var v=-1,b=0,P=-1,S=!0,T=o.length-1,j=0;T>=l;--T)if((p=o.charCodeAt(T))!==47)P===-1&&(S=!1,P=T+1),p===46?v===-1?v=T:j!==1&&(j=1):v!==-1&&(j=-1);else if(!S){b=T+1;break}return v===-1||P===-1||j===0||j===1&&v===P-1&&v===b+1?P!==-1&&(c.base=c.name=b===0&&f?o.slice(1,P):o.slice(b,P)):(b===0&&f?(c.name=o.slice(1,v),c.base=o.slice(1,P)):(c.name=o.slice(b,v),c.base=o.slice(b,P)),c.ext=o.slice(v,P)),b>0?c.dir=o.slice(0,b-1):f&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};s.posix=s,n.exports=s},465:(n,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=r.URI=void 0;var s=i(796);Object.defineProperty(r,"URI",{enumerable:!0,get:function(){return s.URI}});var o=i(679);Object.defineProperty(r,"Utils",{enumerable:!0,get:function(){return o.Utils}})},674:(n,r)=>{if(Object.defineProperty(r,"__esModule",{value:!0}),r.isWindows=void 0,typeof process=="object")r.isWindows=process.platform==="win32";else if(typeof navigator=="object"){var i=navigator.userAgent;r.isWindows=i.indexOf("Windows")>=0}},796:function(n,r,i){var s,o,c=this&&this.__extends||(s=function(D,k){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,F){x.__proto__=F}||function(x,F){for(var G in F)Object.prototype.hasOwnProperty.call(F,G)&&(x[G]=F[G])})(D,k)},function(D,k){function x(){this.constructor=D}s(D,k),D.prototype=k===null?Object.create(k):(x.prototype=k.prototype,new x)});Object.defineProperty(r,"__esModule",{value:!0}),r.uriToFsPath=r.URI=void 0;var l=i(674),p=/^\w[\w\d+.-]*$/,f=/^\//,v=/^\/\//,b="",P="/",S=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,T=function(){function D(k,x,F,G,U,H){H===void 0&&(H=!1),typeof k=="object"?(this.scheme=k.scheme||b,this.authority=k.authority||b,this.path=k.path||b,this.query=k.query||b,this.fragment=k.fragment||b):(this.scheme=function(ee,te){return ee||te?ee:"file"}(k,H),this.authority=x||b,this.path=function(ee,te){switch(ee){case"https":case"http":case"file":te?te[0]!==P&&(te=P+te):te=P}return te}(this.scheme,F||b),this.query=G||b,this.fragment=U||b,function(ee,te){if(!ee.scheme&&te)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'+ee.authority+'", path: "'+ee.path+'", query: "'+ee.query+'", fragment: "'+ee.fragment+'"}');if(ee.scheme&&!p.test(ee.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(ee.path){if(ee.authority){if(!f.test(ee.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(ee.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,H))}return D.isUri=function(k){return k instanceof D||!!k&&typeof k.authority=="string"&&typeof k.fragment=="string"&&typeof k.path=="string"&&typeof k.query=="string"&&typeof k.scheme=="string"&&typeof k.fsPath=="function"&&typeof k.with=="function"&&typeof k.toString=="function"},Object.defineProperty(D.prototype,"fsPath",{get:function(){return W(this,!1)},enumerable:!1,configurable:!0}),D.prototype.with=function(k){if(!k)return this;var x=k.scheme,F=k.authority,G=k.path,U=k.query,H=k.fragment;return x===void 0?x=this.scheme:x===null&&(x=b),F===void 0?F=this.authority:F===null&&(F=b),G===void 0?G=this.path:G===null&&(G=b),U===void 0?U=this.query:U===null&&(U=b),H===void 0?H=this.fragment:H===null&&(H=b),x===this.scheme&&F===this.authority&&G===this.path&&U===this.query&&H===this.fragment?this:new _(x,F,G,U,H)},D.parse=function(k,x){x===void 0&&(x=!1);var F=S.exec(k);return F?new _(F[2]||b,Y(F[4]||b),Y(F[5]||b),Y(F[7]||b),Y(F[9]||b),x):new _(b,b,b,b,b)},D.file=function(k){var x=b;if(l.isWindows&&(k=k.replace(/\\/g,P)),k[0]===P&&k[1]===P){var F=k.indexOf(P,2);F===-1?(x=k.substring(2),k=P):(x=k.substring(2,F),k=k.substring(F)||P)}return new _("file",x,k,b,b)},D.from=function(k){return new _(k.scheme,k.authority,k.path,k.query,k.fragment)},D.prototype.toString=function(k){return k===void 0&&(k=!1),J(this,k)},D.prototype.toJSON=function(){return this},D.revive=function(k){if(k){if(k instanceof D)return k;var x=new _(k);return x._formatted=k.external,x._fsPath=k._sep===j?k.fsPath:null,x}return k},D}();r.URI=T;var j=l.isWindows?1:void 0,_=function(D){function k(){var x=D!==null&&D.apply(this,arguments)||this;return x._formatted=null,x._fsPath=null,x}return c(k,D),Object.defineProperty(k.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=W(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),k.prototype.toString=function(x){return x===void 0&&(x=!1),x?J(this,!0):(this._formatted||(this._formatted=J(this,!1)),this._formatted)},k.prototype.toJSON=function(){var x={$mid:1};return this._fsPath&&(x.fsPath=this._fsPath,x._sep=j),this._formatted&&(x.external=this._formatted),this.path&&(x.path=this.path),this.scheme&&(x.scheme=this.scheme),this.authority&&(x.authority=this.authority),this.query&&(x.query=this.query),this.fragment&&(x.fragment=this.fragment),x},k}(T),C=((o={})[58]="%3A",o[47]="%2F",o[63]="%3F",o[35]="%23",o[91]="%5B",o[93]="%5D",o[64]="%40",o[33]="%21",o[36]="%24",o[38]="%26",o[39]="%27",o[40]="%28",o[41]="%29",o[42]="%2A",o[43]="%2B",o[44]="%2C",o[59]="%3B",o[61]="%3D",o[32]="%20",o);function E(D,k){for(var x=void 0,F=-1,G=0;G<D.length;G++){var U=D.charCodeAt(G);if(U>=97&&U<=122||U>=65&&U<=90||U>=48&&U<=57||U===45||U===46||U===95||U===126||k&&U===47)F!==-1&&(x+=encodeURIComponent(D.substring(F,G)),F=-1),x!==void 0&&(x+=D.charAt(G));else{x===void 0&&(x=D.substr(0,G));var H=C[U];H!==void 0?(F!==-1&&(x+=encodeURIComponent(D.substring(F,G)),F=-1),x+=H):F===-1&&(F=G)}}return F!==-1&&(x+=encodeURIComponent(D.substring(F))),x!==void 0?x:D}function L(D){for(var k=void 0,x=0;x<D.length;x++){var F=D.charCodeAt(x);F===35||F===63?(k===void 0&&(k=D.substr(0,x)),k+=C[F]):k!==void 0&&(k+=D[x])}return k!==void 0?k:D}function W(D,k){var x;return x=D.authority&&D.path.length>1&&D.scheme==="file"?"//"+D.authority+D.path:D.path.charCodeAt(0)===47&&(D.path.charCodeAt(1)>=65&&D.path.charCodeAt(1)<=90||D.path.charCodeAt(1)>=97&&D.path.charCodeAt(1)<=122)&&D.path.charCodeAt(2)===58?k?D.path.substr(1):D.path[1].toLowerCase()+D.path.substr(2):D.path,l.isWindows&&(x=x.replace(/\//g,"\\")),x}function J(D,k){var x=k?L:E,F="",G=D.scheme,U=D.authority,H=D.path,ee=D.query,te=D.fragment;if(G&&(F+=G,F+=":"),(U||G==="file")&&(F+=P,F+=P),U){var he=U.indexOf("@");if(he!==-1){var Ue=U.substr(0,he);U=U.substr(he+1),(he=Ue.indexOf(":"))===-1?F+=x(Ue,!1):(F+=x(Ue.substr(0,he),!1),F+=":",F+=x(Ue.substr(he+1),!1)),F+="@"}(he=(U=U.toLowerCase()).indexOf(":"))===-1?F+=x(U,!1):(F+=x(U.substr(0,he),!1),F+=U.substr(he))}if(H){if(H.length>=3&&H.charCodeAt(0)===47&&H.charCodeAt(2)===58)(Je=H.charCodeAt(1))>=65&&Je<=90&&(H="/"+String.fromCharCode(Je+32)+":"+H.substr(3));else if(H.length>=2&&H.charCodeAt(1)===58){var Je;(Je=H.charCodeAt(0))>=65&&Je<=90&&(H=String.fromCharCode(Je+32)+":"+H.substr(2))}F+=x(H,!0)}return ee&&(F+="?",F+=x(ee,!1)),te&&(F+="#",F+=k?te:E(te,!1)),F}function se(D){try{return decodeURIComponent(D)}catch{return D.length>3?D.substr(0,3)+se(D.substr(3)):D}}r.uriToFsPath=W;var I=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Y(D){return D.match(I)?D.replace(I,function(k){return se(k)}):D}},679:function(n,r,i){var s=this&&this.__spreadArrays||function(){for(var p=0,f=0,v=arguments.length;f<v;f++)p+=arguments[f].length;var b=Array(p),P=0;for(f=0;f<v;f++)for(var S=arguments[f],T=0,j=S.length;T<j;T++,P++)b[P]=S[T];return b};Object.defineProperty(r,"__esModule",{value:!0}),r.Utils=void 0;var o,c=i(470),l=c.posix||c;(o=r.Utils||(r.Utils={})).joinPath=function(p){for(var f=[],v=1;v<arguments.length;v++)f[v-1]=arguments[v];return p.with({path:l.join.apply(l,s([p.path],f))})},o.resolvePath=function(p){for(var f=[],v=1;v<arguments.length;v++)f[v-1]=arguments[v];var b=p.path||"/";return p.with({path:l.resolve.apply(l,s([b],f))})},o.dirname=function(p){var f=l.dirname(p.path);return f.length===1&&f.charCodeAt(0)===46?p:p.with({path:f})},o.basename=function(p){return l.basename(p.path)},o.extname=function(p){return l.extname(p.path)}}},e={};return function n(r){if(e[r])return e[r].exports;var i=e[r]={exports:{}};return t[r].call(i.exports,i,i.exports,n),i.exports}(465)})()})});var Ha=N((Rm,Ba)=>{"use strict";var lg=t=>{let e=new Set;do for(let n of Reflect.ownKeys(t))e.add([t,n]);while((t=Reflect.getPrototypeOf(t))&&t!==Object.prototype);return e};Ba.exports=(t,{include:e,exclude:n}={})=>{let r=i=>{let s=o=>typeof o=="string"?i===o:o.test(i);return e?e.some(s):n?!n.some(s):!0};for(let[i,s]of lg(t.constructor.prototype)){if(s==="constructor"||!r(s))continue;let o=Reflect.getOwnPropertyDescriptor(i,s);o&&typeof o.value=="function"&&(t[s]=t[s].bind(t))}return t}});var Ga=N((Cm,Ja)=>{var fg="Expected a function",za=0/0,dg="[object Symbol]",hg=/^\s+|\s+$/g,gg=/^[-+]0x[0-9a-f]+$/i,pg=/^0b[01]+$/i,mg=/^0o[0-7]+$/i,yg=parseInt,vg=typeof global=="object"&&global&&global.Object===Object&&global,bg=typeof self=="object"&&self&&self.Object===Object&&self,wg=vg||bg||Function("return this")(),_g=Object.prototype,Rg=_g.toString,Cg=Math.max,Pg=Math.min,Di=function(){return wg.Date.now()};function qg(t,e,n){var r,i,s,o,c,l,p=0,f=!1,v=!1,b=!0;if(typeof t!="function")throw new TypeError(fg);e=Ua(e)||0,Ei(n)&&(f=!!n.leading,v="maxWait"in n,s=v?Cg(Ua(n.maxWait)||0,e):s,b="trailing"in n?!!n.trailing:b);function P(J){var se=r,I=i;return r=i=void 0,p=J,o=t.apply(I,se),o}function S(J){return p=J,c=setTimeout(_,e),f?P(J):o}function T(J){var se=J-l,I=J-p,Y=e-se;return v?Pg(Y,s-I):Y}function j(J){var se=J-l,I=J-p;return l===void 0||se>=e||se<0||v&&I>=s}function _(){var J=Di();if(j(J))return C(J);c=setTimeout(_,T(J))}function C(J){return c=void 0,b&&r?P(J):(r=i=void 0,o)}function E(){c!==void 0&&clearTimeout(c),p=0,r=l=i=c=void 0}function L(){return c===void 0?o:C(Di())}function W(){var J=Di(),se=j(J);if(r=arguments,i=this,l=J,se){if(c===void 0)return S(l);if(v)return c=setTimeout(_,e),P(l)}return c===void 0&&(c=setTimeout(_,e)),o}return W.cancel=E,W.flush=L,W}function Ei(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Sg(t){return!!t&&typeof t=="object"}function kg(t){return typeof t=="symbol"||Sg(t)&&Rg.call(t)==dg}function Ua(t){if(typeof t=="number")return t;if(kg(t))return za;if(Ei(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Ei(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(hg,"");var n=pg.test(t);return n||mg.test(t)?yg(t.slice(2),n?2:8):gg.test(t)?za:+t}Ja.exports=qg});var Xa=N((Pm,Oi)=>{typeof Object.create=="function"?Oi.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Oi.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}}});var Ya=N((qm,Ni)=>{try{if(xi=require("util"),typeof xi.inherits!="function")throw"";Ni.exports=xi.inherits}catch{Ni.exports=Xa()}var xi});var Qa=N((Sm,Fi)=>{var Tg=Ya(),Ka=require("events").EventEmitter;Fi.exports=je;Fi.exports.default=je;function je(t){if(!(this instanceof je))return new je(t);Ka.call(this),t=t||{},this.concurrency=t.concurrency||1/0,this.timeout=t.timeout||0,this.autostart=t.autostart||!1,this.results=t.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}Tg(je,Ka);var Dg=["pop","shift","indexOf","lastIndexOf"];Dg.forEach(function(t){je.prototype[t]=function(){return Array.prototype[t].apply(this.jobs,arguments)}});je.prototype.slice=function(t,e){return this.jobs=this.jobs.slice(t,e),this};je.prototype.reverse=function(){return this.jobs.reverse(),this};var Eg=["push","unshift","splice"];Eg.forEach(function(t){je.prototype[t]=function(){var e=Array.prototype[t].apply(this.jobs,arguments);return this.autostart&&this.start(),e}});Object.defineProperty(je.prototype,"length",{get:function(){return this.pending+this.jobs.length}});je.prototype.start=function(t){if(t&&xg.call(this,t),this.running=!0,this.pending>=this.concurrency)return;if(this.jobs.length===0){this.pending===0&&ji.call(this);return}var e=this,n=this.jobs.shift(),r=!0,i=this.session,s=null,o=!1,c=null,l=n.hasOwnProperty("timeout")?n.timeout:this.timeout;function p(v,b){r&&e.session===i&&(r=!1,e.pending--,s!==null&&(delete e.timers[s],clearTimeout(s)),v?e.emit("error",v,n):o===!1&&(c!==null&&(e.results[c]=Array.prototype.slice.call(arguments,1)),e.emit("success",b,n)),e.session===i&&(e.pending===0&&e.jobs.length===0?ji.call(e):e.running&&e.start()))}l&&(s=setTimeout(function(){o=!0,e.listeners("timeout").length>0?e.emit("timeout",p,n):p()},l),this.timers[s]=s),this.results&&(c=this.results.length,this.results[c]=null),this.pending++,e.emit("start",n);var f=n(p);f&&f.then&&typeof f.then=="function"&&f.then(function(v){return p(null,v)}).catch(function(v){return p(v||!0)}),this.running&&this.jobs.length>0&&this.start()};je.prototype.stop=function(){this.running=!1};je.prototype.end=function(t){Og.call(this),this.jobs.length=0,this.pending=0,ji.call(this,t)};function Og(){for(var t in this.timers){var e=this.timers[t];delete this.timers[t],clearTimeout(e)}}function xg(t){var e=this;this.on("error",n),this.on("end",r);function n(i){e.end(i)}function r(i){e.removeListener("error",n),e.removeListener("end",r),t(i,this.results)}}function ji(t){this.session++,this.running=!1,this.emit("end",t)}});var Za=N((km,Va)=>{var dt=require("constants"),Ng=process.cwd,Xn=null,jg=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Xn||(Xn=Ng.call(process)),Xn};try{process.cwd()}catch{}typeof process.chdir=="function"&&(Mi=process.chdir,process.chdir=function(t){Xn=null,Mi.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Mi));var Mi;Va.exports=Fg;function Fg(t){dt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||n(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=r(t.chmod),t.fchmod=r(t.fchmod),t.lchmod=r(t.lchmod),t.chownSync=o(t.chownSync),t.fchownSync=o(t.fchownSync),t.lchownSync=o(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=c(t.stat),t.fstat=c(t.fstat),t.lstat=c(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.lchmod||(t.lchmod=function(f,v,b){b&&process.nextTick(b)},t.lchmodSync=function(){}),t.lchown||(t.lchown=function(f,v,b,P){P&&process.nextTick(P)},t.lchownSync=function(){}),jg==="win32"&&(t.rename=function(f){return function(v,b,P){var S=Date.now(),T=0;f(v,b,function j(_){if(_&&(_.code==="EACCES"||_.code==="EPERM")&&Date.now()-S<6e4){setTimeout(function(){t.stat(b,function(C,E){C&&C.code==="ENOENT"?f(v,b,j):P(_)})},T),T<100&&(T+=10);return}P&&P(_)})}}(t.rename)),t.read=function(f){function v(b,P,S,T,j,_){var C;if(_&&typeof _=="function"){var E=0;C=function(L,W,J){if(L&&L.code==="EAGAIN"&&E<10)return E++,f.call(t,b,P,S,T,j,C);_.apply(this,arguments)}}return f.call(t,b,P,S,T,j,C)}return Object.setPrototypeOf&&Object.setPrototypeOf(v,f),v}(t.read),t.readSync=function(f){return function(v,b,P,S,T){for(var j=0;;)try{return f.call(t,v,b,P,S,T)}catch(_){if(_.code==="EAGAIN"&&j<10){j++;continue}throw _}}}(t.readSync);function e(f){f.lchmod=function(v,b,P){f.open(v,dt.O_WRONLY|dt.O_SYMLINK,b,function(S,T){if(S){P&&P(S);return}f.fchmod(T,b,function(j){f.close(T,function(_){P&&P(j||_)})})})},f.lchmodSync=function(v,b){var P=f.openSync(v,dt.O_WRONLY|dt.O_SYMLINK,b),S=!0,T;try{T=f.fchmodSync(P,b),S=!1}finally{if(S)try{f.closeSync(P)}catch{}else f.closeSync(P)}return T}}function n(f){dt.hasOwnProperty("O_SYMLINK")?(f.lutimes=function(v,b,P,S){f.open(v,dt.O_SYMLINK,function(T,j){if(T){S&&S(T);return}f.futimes(j,b,P,function(_){f.close(j,function(C){S&&S(_||C)})})})},f.lutimesSync=function(v,b,P){var S=f.openSync(v,dt.O_SYMLINK),T,j=!0;try{T=f.futimesSync(S,b,P),j=!1}finally{if(j)try{f.closeSync(S)}catch{}else f.closeSync(S)}return T}):(f.lutimes=function(v,b,P,S){S&&process.nextTick(S)},f.lutimesSync=function(){})}function r(f){return f&&function(v,b,P){return f.call(t,v,b,function(S){p(S)&&(S=null),P&&P.apply(this,arguments)})}}function i(f){return f&&function(v,b){try{return f.call(t,v,b)}catch(P){if(!p(P))throw P}}}function s(f){return f&&function(v,b,P,S){return f.call(t,v,b,P,function(T){p(T)&&(T=null),S&&S.apply(this,arguments)})}}function o(f){return f&&function(v,b,P){try{return f.call(t,v,b,P)}catch(S){if(!p(S))throw S}}}function c(f){return f&&function(v,b,P){typeof b=="function"&&(P=b,b=null);function S(T,j){j&&(j.uid<0&&(j.uid+=4294967296),j.gid<0&&(j.gid+=4294967296)),P&&P.apply(this,arguments)}return b?f.call(t,v,b,S):f.call(t,v,S)}}function l(f){return f&&function(v,b){var P=b?f.call(t,v,b):f.call(t,v);return P.uid<0&&(P.uid+=4294967296),P.gid<0&&(P.gid+=4294967296),P}}function p(f){if(!f||f.code==="ENOSYS")return!0;var v=!process.getuid||process.getuid()!==0;return!!(v&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var nu=N((Tm,tu)=>{var eu=require("stream").Stream;tu.exports=Mg;function Mg(t){return{ReadStream:e,WriteStream:n};function e(r,i){if(!(this instanceof e))return new e(r,i);eu.call(this);var s=this;this.path=r,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),c=0,l=o.length;c<l;c++){var p=o[c];this[p]=i[p]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(f,v){if(f){s.emit("error",f),s.readable=!1;return}s.fd=v,s.emit("open",v),s._read()})}function n(r,i){if(!(this instanceof n))return new n(r,i);eu.call(this),this.path=r,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,c=s.length;o<c;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var iu=N((Dm,ru)=>{"use strict";ru.exports=Ig;var Ag=Object.getPrototypeOf||function(t){return t.__proto__};function Ig(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:Ag(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}});var uu=N((Em,Li)=>{var de=require("fs"),Lg=Za(),Wg=nu(),$g=iu(),Yn=require("util"),Ce,Kn;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Ce=Symbol.for("graceful-fs.queue"),Kn=Symbol.for("graceful-fs.previous")):(Ce="___graceful-fs.queue",Kn="___graceful-fs.previous");function Bg(){}function ou(t,e){Object.defineProperty(t,Ce,{get:function(){return e}})}var Ct=Bg;Yn.debuglog?Ct=Yn.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(Ct=function(){var t=Yn.format.apply(Yn,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});de[Ce]||(su=global[Ce]||[],ou(de,su),de.close=function(t){function e(n,r){return t.call(de,n,function(i){i||au(),typeof r=="function"&&r.apply(this,arguments)})}return Object.defineProperty(e,Kn,{value:t}),e}(de.close),de.closeSync=function(t){function e(n){t.apply(de,arguments),au()}return Object.defineProperty(e,Kn,{value:t}),e}(de.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){Ct(de[Ce]),require("assert").equal(de[Ce].length,0)}));var su;global[Ce]||ou(global,de[Ce]);Li.exports=Ai($g(de));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!de.__patched&&(Li.exports=Ai(de),de.__patched=!0);function Ai(t){Lg(t),t.gracefulify=Ai,t.createReadStream=L,t.createWriteStream=W;var e=t.readFile;t.readFile=n;function n(I,Y,D){return typeof Y=="function"&&(D=Y,Y=null),k(I,Y,D);function k(x,F,G,U){return e(x,F,function(H){H&&(H.code==="EMFILE"||H.code==="ENFILE")?Wt([k,[x,F,G],H,U||Date.now(),Date.now()]):typeof G=="function"&&G.apply(this,arguments)})}}var r=t.writeFile;t.writeFile=i;function i(I,Y,D,k){return typeof D=="function"&&(k=D,D=null),x(I,Y,D,k);function x(F,G,U,H,ee){return r(F,G,U,function(te){te&&(te.code==="EMFILE"||te.code==="ENFILE")?Wt([x,[F,G,U,H],te,ee||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=o);function o(I,Y,D,k){return typeof D=="function"&&(k=D,D=null),x(I,Y,D,k);function x(F,G,U,H,ee){return s(F,G,U,function(te){te&&(te.code==="EMFILE"||te.code==="ENFILE")?Wt([x,[F,G,U,H],te,ee||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}var c=t.copyFile;c&&(t.copyFile=l);function l(I,Y,D,k){return typeof D=="function"&&(k=D,D=0),x(I,Y,D,k);function x(F,G,U,H,ee){return c(F,G,U,function(te){te&&(te.code==="EMFILE"||te.code==="ENFILE")?Wt([x,[F,G,U,H],te,ee||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}var p=t.readdir;t.readdir=f;function f(I,Y,D){return typeof Y=="function"&&(D=Y,Y=null),k(I,Y,D);function k(x,F,G,U){return p(x,F,function(H,ee){H&&(H.code==="EMFILE"||H.code==="ENFILE")?Wt([k,[x,F,G],H,U||Date.now(),Date.now()]):(ee&&ee.sort&&ee.sort(),typeof G=="function"&&G.call(this,H,ee))})}}if(process.version.substr(0,4)==="v0.8"){var v=Wg(t);j=v.ReadStream,C=v.WriteStream}var b=t.ReadStream;b&&(j.prototype=Object.create(b.prototype),j.prototype.open=_);var P=t.WriteStream;P&&(C.prototype=Object.create(P.prototype),C.prototype.open=E),Object.defineProperty(t,"ReadStream",{get:function(){return j},set:function(I){j=I},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return C},set:function(I){C=I},enumerable:!0,configurable:!0});var S=j;Object.defineProperty(t,"FileReadStream",{get:function(){return S},set:function(I){S=I},enumerable:!0,configurable:!0});var T=C;Object.defineProperty(t,"FileWriteStream",{get:function(){return T},set:function(I){T=I},enumerable:!0,configurable:!0});function j(I,Y){return this instanceof j?(b.apply(this,arguments),this):j.apply(Object.create(j.prototype),arguments)}function _(){var I=this;se(I.path,I.flags,I.mode,function(Y,D){Y?(I.autoClose&&I.destroy(),I.emit("error",Y)):(I.fd=D,I.emit("open",D),I.read())})}function C(I,Y){return this instanceof C?(P.apply(this,arguments),this):C.apply(Object.create(C.prototype),arguments)}function E(){var I=this;se(I.path,I.flags,I.mode,function(Y,D){Y?(I.destroy(),I.emit("error",Y)):(I.fd=D,I.emit("open",D))})}function L(I,Y){return new t.ReadStream(I,Y)}function W(I,Y){return new t.WriteStream(I,Y)}var J=t.open;t.open=se;function se(I,Y,D,k){return typeof D=="function"&&(k=D,D=null),x(I,Y,D,k);function x(F,G,U,H,ee){return J(F,G,U,function(te,he){te&&(te.code==="EMFILE"||te.code==="ENFILE")?Wt([x,[F,G,U,H],te,ee||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}return t}function Wt(t){Ct("ENQUEUE",t[0].name,t[1]),de[Ce].push(t),Ii()}var Qn;function au(){for(var t=Date.now(),e=0;e<de[Ce].length;++e)de[Ce][e].length>2&&(de[Ce][e][3]=t,de[Ce][e][4]=t);Ii()}function Ii(){if(clearTimeout(Qn),Qn=void 0,de[Ce].length!==0){var t=de[Ce].shift(),e=t[0],n=t[1],r=t[2],i=t[3],s=t[4];if(i===void 0)Ct("RETRY",e.name,n),e.apply(null,n);else if(Date.now()-i>=6e4){Ct("TIMEOUT",e.name,n);var o=n.pop();typeof o=="function"&&o.call(null,r)}else{var c=Date.now()-s,l=Math.max(s-i,1),p=Math.min(l*1.2,100);c>=p?(Ct("RETRY",e.name,n),e.apply(null,n.concat([i]))):de[Ce].push(t)}Qn===void 0&&(Qn=setTimeout(Ii,0))}}});var lu=N((Om,cu)=>{"use strict";cu.exports=t=>{if(typeof t!="string")throw new TypeError(`Expected a string, got ${typeof t}`);return t.charCodeAt(0)===65279?t.slice(1):t}});var du=N((xm,fu)=>{"use strict";fu.exports=function(e){return e?e instanceof Array||Array.isArray(e)||e.length>=0&&e.splice instanceof Function:!1}});var gu=N((Nm,hu)=>{"use strict";var Hg=require("util"),zg=du(),Wi=function(e,n){(!e||e.constructor!==String)&&(n=e||{},e=Error.name);var r=function i(s){if(!this)return new i(s);s=s instanceof Error?s.message:s||this.message,Error.call(this,s),Error.captureStackTrace(this,r),this.name=e,Object.defineProperty(this,"message",{configurable:!0,enumerable:!1,get:function(){var f=s.split(/\r?\n/g);for(var v in n)if(!!n.hasOwnProperty(v)){var b=n[v];"message"in b&&(f=b.message(this[v],f)||f,zg(f)||(f=[f]))}return f.join(`
`)},set:function(f){s=f}});var o=null,c=Object.getOwnPropertyDescriptor(this,"stack"),l=c.get,p=c.value;delete c.value,delete c.writable,c.set=function(f){o=f},c.get=function(){var f=(o||(l?l.call(this):p)).split(/\r?\n+/g);o||(f[0]=this.name+": "+this.message);var v=1;for(var b in n)if(!!n.hasOwnProperty(b)){var P=n[b];if("line"in P){var S=P.line(this[b]);S&&f.splice(v++,0,"    "+S)}"stack"in P&&P.stack(this[b],f)}return f.join(`
`)},Object.defineProperty(this,"stack",c)};return Object.setPrototypeOf?(Object.setPrototypeOf(r.prototype,Error.prototype),Object.setPrototypeOf(r,Error)):Hg.inherits(r,Error),r};Wi.append=function(t,e){return{message:function(n,r){return n=n||e,n&&(r[0]+=" "+t.replace("%s",n.toString())),r}}};Wi.line=function(t,e){return{line:function(n){return n=n||e,n?t.replace("%s",n.toString()):null}}};hu.exports=Wi});var yu=N((jm,mu)=>{"use strict";var Ug=t=>{let e=t.charCodeAt(0).toString(16).toUpperCase();return"0x"+(e.length%2?"0":"")+e},Jg=(t,e,n)=>{if(!e)return{message:t.message+" while parsing empty string",position:0};let r=t.message.match(/^Unexpected token (.) .*position\s+(\d+)/i),i=r?+r[2]:t.message.match(/^Unexpected end of JSON.*/i)?e.length-1:null,s=r?t.message.replace(/^Unexpected token ./,`Unexpected token ${JSON.stringify(r[1])} (${Ug(r[1])})`):t.message;if(i!=null){let o=i<=n?0:i-n,c=i+n>=e.length?e.length:i+n,l=(o===0?"":"...")+e.slice(o,c)+(c===e.length?"":"...");return{message:s+` while parsing ${e===l?"":"near "}${JSON.stringify(l)}`,position:i}}else return{message:s+` while parsing '${e.slice(0,n*2)}'`,position:0}},$i=class extends SyntaxError{constructor(e,n,r,i){r=r||20;let s=Jg(e,n,r);super(s.message);Object.assign(this,s),this.code="EJSONPARSE",this.systemError=e,Error.captureStackTrace(this,i||this.constructor)}get name(){return this.constructor.name}set name(e){}get[Symbol.toStringTag](){return this.constructor.name}},Gg=Symbol.for("indent"),Xg=Symbol.for("newline"),Yg=/^\s*[{\[]((?:\r?\n)+)([\s\t]*)/,Kg=/^(?:\{\}|\[\])((?:\r?\n)+)?$/,Vn=(t,e,n)=>{let r=pu(t);n=n||20;try{let[,i=`
`,s="  "]=r.match(Kg)||r.match(Yg)||[,"",""],o=JSON.parse(r,e);return o&&typeof o=="object"&&(o[Xg]=i,o[Gg]=s),o}catch(i){if(typeof t!="string"&&!Buffer.isBuffer(t)){let s=Array.isArray(t)&&t.length===0;throw Object.assign(new TypeError(`Cannot parse ${s?"an empty array":String(t)}`),{code:"EJSONPARSE",systemError:i})}throw new $i(i,r,n,Vn)}},pu=t=>String(t).replace(/^\uFEFF/,"");mu.exports=Vn;Vn.JSONParseError=$i;Vn.noExceptions=(t,e)=>{try{return JSON.parse(pu(t),e)}catch{}}});var bu=N(Bi=>{"use strict";var Zn=`
`,vu="\r",Qg=function(){function t(e){this.string=e;for(var n=[0],r=0;r<e.length;)switch(e[r]){case Zn:r+=Zn.length,n.push(r);break;case vu:r+=vu.length,e[r]===Zn&&(r+=Zn.length),n.push(r);break;default:r++;break}this.offsets=n}return t.prototype.locationForIndex=function(e){if(e<0||e>this.string.length)return null;for(var n=0,r=this.offsets;r[n+1]<=e;)n++;var i=e-r[n];return{line:n,column:i}},t.prototype.indexForLocation=function(e){var n=e.line,r=e.column;return n<0||n>=this.offsets.length||r<0||r>this.lengthOfLine(n)?null:this.offsets[n]+r},t.prototype.lengthOfLine=function(e){var n=this.offsets[e],r=e===this.offsets.length-1?this.string.length:this.offsets[e+1];return r-n},t}();Bi.__esModule=!0;Bi.default=Qg});var wu=N(er=>{Object.defineProperty(er,"__esModule",{value:!0});er.default=/((['"])(?:(?!\2|\\).|\\(?:\r\n|[\s\S]))*(\2)?|`(?:[^`\\$]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{[^}]*\}?)*\}?)*(`)?)|(\/\/.*)|(\/\*(?:[^*]|\*(?!\/))*(\*\/)?)|(\/(?!\*)(?:\[(?:(?![\]\\]).|\\.)*\]|(?![\/\]\\]).|\\.)+\/(?:(?!\s*(?:\b|[\u0080-\uFFFF$\\'"~({]|[+\-!](?!=)|\.?\d))|[gmiyus]{1,6}\b(?![\u0080-\uFFFF$\\]|\s*(?:[+\-*%&|^<>!=?({]|\/(?![\/*])))))|(0[xX][\da-fA-F]+|0[oO][0-7]+|0[bB][01]+|(?:\d*\.\d+|\d+\.?)(?:[eE][+-]?\d+)?)|((?!\d)(?:(?!\s)[$\w\u0080-\uFFFF]|\\u[\da-fA-F]{4}|\\u\{[\da-fA-F]+\})+)|(--|\+\+|&&|\|\||=>|\.{3}|(?:[+\-\/%&|^]|\*{1,2}|<{1,2}|>{1,3}|!=?|={1,2})=?|[?~.,:;[\](){}])|(\s+)|(^$|[\s\S])/g;er.matchToToken=function(t){var e={type:"invalid",value:t[0],closed:void 0};return t[1]?(e.type="string",e.closed=!!(t[3]||t[4])):t[5]?e.type="comment":t[6]?(e.type="comment",e.closed=!!t[7]):t[8]?e.type="regex":t[9]?e.type="number":t[10]?e.type="name":t[11]?e.type="punctuator":t[12]&&(e.type="whitespace"),e}});var qu=N(fn=>{"use strict";Object.defineProperty(fn,"__esModule",{value:!0});fn.isIdentifierStart=Cu;fn.isIdentifierChar=Pu;fn.isIdentifierName=tp;var Hi="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08C7\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\u9FFC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7CA\uA7F5-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",_u="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF\u1AC0\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Vg=new RegExp("["+Hi+"]"),Zg=new RegExp("["+Hi+_u+"]");Hi=_u=null;var Ru=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,157,310,10,21,11,7,153,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,107,20,28,22,13,52,76,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,85,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,230,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,35,56,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,190,0,80,921,103,110,18,195,2749,1070,4050,582,8634,568,8,30,114,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8952,286,50,2,18,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,2357,44,11,6,17,0,370,43,1301,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42717,35,4148,12,221,3,5761,15,7472,3104,541,1507,4938],ep=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,154,10,176,2,54,14,32,9,16,3,46,10,54,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,161,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,19306,9,135,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,5319,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,262,6,10,9,419,13,1495,6,110,6,6,9,4759,9,787719,239];function zi(t,e){let n=65536;for(let r=0,i=e.length;r<i;r+=2){if(n+=e[r],n>t)return!1;if(n+=e[r+1],n>=t)return!0}return!1}function Cu(t){return t<65?t===36:t<=90?!0:t<97?t===95:t<=122?!0:t<=65535?t>=170&&Vg.test(String.fromCharCode(t)):zi(t,Ru)}function Pu(t){return t<48?t===36:t<58?!0:t<65?!1:t<=90?!0:t<97?t===95:t<=122?!0:t<=65535?t>=170&&Zg.test(String.fromCharCode(t)):zi(t,Ru)||zi(t,ep)}function tp(t){let e=!0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if((r&64512)==55296&&n+1<t.length){let i=t.charCodeAt(++n);(i&64512)==56320&&(r=65536+((r&1023)<<10)+(i&1023))}if(e){if(e=!1,!Cu(r))return!1}else if(!Pu(r))return!1}return!e}});var Du=N(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.isReservedWord=Su;Pt.isStrictReservedWord=ku;Pt.isStrictBindOnlyReservedWord=Tu;Pt.isStrictBindReservedWord=op;Pt.isKeyword=sp;var Ui={keyword:["break","case","catch","continue","debugger","default","do","else","finally","for","function","if","return","switch","throw","try","var","const","while","with","new","this","super","class","extends","export","import","null","true","false","in","instanceof","typeof","void","delete"],strict:["implements","interface","let","package","private","protected","public","static","yield"],strictBind:["eval","arguments"]},np=new Set(Ui.keyword),rp=new Set(Ui.strict),ip=new Set(Ui.strictBind);function Su(t,e){return e&&t==="await"||t==="enum"}function ku(t,e){return Su(t,e)||rp.has(t)}function Tu(t){return ip.has(t)}function op(t,e){return ku(t,e)||Tu(t)}function sp(t){return np.has(t)}});var Eu=N(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Object.defineProperty(Ye,"isIdentifierName",{enumerable:!0,get:function(){return Ji.isIdentifierName}});Object.defineProperty(Ye,"isIdentifierChar",{enumerable:!0,get:function(){return Ji.isIdentifierChar}});Object.defineProperty(Ye,"isIdentifierStart",{enumerable:!0,get:function(){return Ji.isIdentifierStart}});Object.defineProperty(Ye,"isReservedWord",{enumerable:!0,get:function(){return dn.isReservedWord}});Object.defineProperty(Ye,"isStrictBindOnlyReservedWord",{enumerable:!0,get:function(){return dn.isStrictBindOnlyReservedWord}});Object.defineProperty(Ye,"isStrictBindReservedWord",{enumerable:!0,get:function(){return dn.isStrictBindReservedWord}});Object.defineProperty(Ye,"isStrictReservedWord",{enumerable:!0,get:function(){return dn.isStrictReservedWord}});Object.defineProperty(Ye,"isKeyword",{enumerable:!0,get:function(){return dn.isKeyword}});var Ji=qu(),dn=Du()});var xu=N((Wm,Ou)=>{"use strict";var ap=/[|\\{}()[\]^$+*?.]/g;Ou.exports=function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(ap,"\\$&")}});var ju=N(($m,Nu)=>{"use strict";Nu.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var Gi=N((Bm,Iu)=>{var qt=ju(),Fu={};for(tr in qt)qt.hasOwnProperty(tr)&&(Fu[qt[tr]]=tr);var tr,B=Iu.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(De in B)if(B.hasOwnProperty(De)){if(!("channels"in B[De]))throw new Error("missing channels property: "+De);if(!("labels"in B[De]))throw new Error("missing channel labels property: "+De);if(B[De].labels.length!==B[De].channels)throw new Error("channel and label counts mismatch: "+De);Mu=B[De].channels,Au=B[De].labels,delete B[De].channels,delete B[De].labels,Object.defineProperty(B[De],"channels",{value:Mu}),Object.defineProperty(B[De],"labels",{value:Au})}var Mu,Au,De;B.rgb.hsl=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=s-i,c,l,p;return s===i?c=0:e===s?c=(n-r)/o:n===s?c=2+(r-e)/o:r===s&&(c=4+(e-n)/o),c=Math.min(c*60,360),c<0&&(c+=360),p=(i+s)/2,s===i?l=0:p<=.5?l=o/(s+i):l=o/(2-s-i),[c,l*100,p*100]};B.rgb.hsv=function(t){var e,n,r,i,s,o=t[0]/255,c=t[1]/255,l=t[2]/255,p=Math.max(o,c,l),f=p-Math.min(o,c,l),v=function(b){return(p-b)/6/f+1/2};return f===0?i=s=0:(s=f/p,e=v(o),n=v(c),r=v(l),o===p?i=r-n:c===p?i=1/3+e-r:l===p&&(i=2/3+n-e),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,p*100]};B.rgb.hwb=function(t){var e=t[0],n=t[1],r=t[2],i=B.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(n,r));return r=1-1/255*Math.max(e,Math.max(n,r)),[i,s*100,r*100]};B.rgb.cmyk=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i,s,o,c;return c=Math.min(1-e,1-n,1-r),i=(1-e-c)/(1-c)||0,s=(1-n-c)/(1-c)||0,o=(1-r-c)/(1-c)||0,[i*100,s*100,o*100,c*100]};function up(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}B.rgb.keyword=function(t){var e=Fu[t];if(e)return e;var n=1/0,r;for(var i in qt)if(qt.hasOwnProperty(i)){var s=qt[i],o=up(t,s);o<n&&(n=o,r=i)}return r};B.keyword.rgb=function(t){return qt[t]};B.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var i=e*.4124+n*.3576+r*.1805,s=e*.2126+n*.7152+r*.0722,o=e*.0193+n*.1192+r*.9505;return[i*100,s*100,o*100]};B.rgb.lab=function(t){var e=B.rgb.xyz(t),n=e[0],r=e[1],i=e[2],s,o,c;return n/=95.047,r/=100,i/=108.883,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,s=116*r-16,o=500*(n-r),c=200*(r-i),[s,o,c]};B.hsl.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100,i,s,o,c,l;if(n===0)return l=r*255,[l,l,l];r<.5?s=r*(1+n):s=r+n-r*n,i=2*r-s,c=[0,0,0];for(var p=0;p<3;p++)o=e+1/3*-(p-1),o<0&&o++,o>1&&o--,6*o<1?l=i+(s-i)*6*o:2*o<1?l=s:3*o<2?l=i+(s-i)*(2/3-o)*6:l=i,c[p]=l*255;return c};B.hsl.hsv=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=n,s=Math.max(r,.01),o,c;return r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s,c=(r+n)/2,o=r===0?2*i/(s+i):2*n/(r+n),[e,o*100,c*100]};B.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=Math.floor(e)%6,s=e-Math.floor(e),o=255*r*(1-n),c=255*r*(1-n*s),l=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,l,o];case 1:return[c,r,o];case 2:return[o,r,l];case 3:return[o,c,r];case 4:return[l,o,r];case 5:return[r,o,c]}};B.hsv.hsl=function(t){var e=t[0],n=t[1]/100,r=t[2]/100,i=Math.max(r,.01),s,o,c;return c=(2-n)*r,s=(2-n)*i,o=n*i,o/=s<=1?s:2-s,o=o||0,c/=2,[e,o*100,c*100]};B.hwb.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100,i=n+r,s,o,c,l;i>1&&(n/=i,r/=i),s=Math.floor(6*e),o=1-r,c=6*e-s,(s&1)!=0&&(c=1-c),l=n+c*(o-n);var p,f,v;switch(s){default:case 6:case 0:p=o,f=l,v=n;break;case 1:p=l,f=o,v=n;break;case 2:p=n,f=o,v=l;break;case 3:p=n,f=l,v=o;break;case 4:p=l,f=n,v=o;break;case 5:p=o,f=n,v=l;break}return[p*255,f*255,v*255]};B.cmyk.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,i=t[3]/100,s,o,c;return s=1-Math.min(1,e*(1-i)+i),o=1-Math.min(1,n*(1-i)+i),c=1-Math.min(1,r*(1-i)+i),[s*255,o*255,c*255]};B.xyz.rgb=function(t){var e=t[0]/100,n=t[1]/100,r=t[2]/100,i,s,o;return i=e*3.2406+n*-1.5372+r*-.4986,s=e*-.9689+n*1.8758+r*.0415,o=e*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*12.92,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[i*255,s*255,o*255]};B.xyz.lab=function(t){var e=t[0],n=t[1],r=t[2],i,s,o;return e/=95.047,n/=100,r/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,n=n>.008856?Math.pow(n,1/3):7.787*n+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,i=116*n-16,s=500*(e-n),o=200*(n-r),[i,s,o]};B.lab.xyz=function(t){var e=t[0],n=t[1],r=t[2],i,s,o;s=(e+16)/116,i=n/500+s,o=s-r/200;var c=Math.pow(s,3),l=Math.pow(i,3),p=Math.pow(o,3);return s=c>.008856?c:(s-16/116)/7.787,i=l>.008856?l:(i-16/116)/7.787,o=p>.008856?p:(o-16/116)/7.787,i*=95.047,s*=100,o*=108.883,[i,s,o]};B.lab.lch=function(t){var e=t[0],n=t[1],r=t[2],i,s,o;return i=Math.atan2(r,n),s=i*360/2/Math.PI,s<0&&(s+=360),o=Math.sqrt(n*n+r*r),[e,o,s]};B.lch.lab=function(t){var e=t[0],n=t[1],r=t[2],i,s,o;return o=r/360*2*Math.PI,i=n*Math.cos(o),s=n*Math.sin(o),[e,i,s]};B.rgb.ansi16=function(t){var e=t[0],n=t[1],r=t[2],i=1 in arguments?arguments[1]:B.rgb.hsv(t)[2];if(i=Math.round(i/50),i===0)return 30;var s=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return i===2&&(s+=60),s};B.hsv.ansi16=function(t){return B.rgb.ansi16(B.hsv.rgb(t),t[2])};B.rgb.ansi256=function(t){var e=t[0],n=t[1],r=t[2];if(e===n&&n===r)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var i=16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5);return i};B.ansi16.rgb=function(t){var e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var n=(~~(t>50)+1)*.5,r=(e&1)*n*255,i=(e>>1&1)*n*255,s=(e>>2&1)*n*255;return[r,i,s]};B.ansi256.rgb=function(t){if(t>=232){var e=(t-232)*10+8;return[e,e,e]}t-=16;var n,r=Math.floor(t/36)/5*255,i=Math.floor((n=t%36)/6)/5*255,s=n%6/5*255;return[r,i,s]};B.rgb.hex=function(t){var e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255),n=e.toString(16).toUpperCase();return"000000".substring(n.length)+n};B.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];e[0].length===3&&(n=n.split("").map(function(c){return c+c}).join(""));var r=parseInt(n,16),i=r>>16&255,s=r>>8&255,o=r&255;return[i,s,o]};B.rgb.hcg=function(t){var e=t[0]/255,n=t[1]/255,r=t[2]/255,i=Math.max(Math.max(e,n),r),s=Math.min(Math.min(e,n),r),o=i-s,c,l;return o<1?c=s/(1-o):c=0,o<=0?l=0:i===e?l=(n-r)/o%6:i===n?l=2+(r-e)/o:l=4+(e-n)/o+4,l/=6,l%=1,[l*360,o*100,c*100]};B.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1,i=0;return n<.5?r=2*e*n:r=2*e*(1-n),r<1&&(i=(n-.5*r)/(1-r)),[t[0],r*100,i*100]};B.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=e*n,i=0;return r<1&&(i=(n-r)/(1-r)),[t[0],r*100,i*100]};B.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,r=t[2]/100;if(n===0)return[r*255,r*255,r*255];var i=[0,0,0],s=e%1*6,o=s%1,c=1-o,l=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=o,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=o;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=o,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return l=(1-n)*r,[(n*i[0]+l)*255,(n*i[1]+l)*255,(n*i[2]+l)*255]};B.hcg.hsv=function(t){var e=t[1]/100,n=t[2]/100,r=e+n*(1-e),i=0;return r>0&&(i=e/r),[t[0],i*100,r*100]};B.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100,r=n*(1-e)+.5*e,i=0;return r>0&&r<.5?i=e/(2*r):r>=.5&&r<1&&(i=e/(2*(1-r))),[t[0],i*100,r*100]};B.hcg.hwb=function(t){var e=t[1]/100,n=t[2]/100,r=e+n*(1-e);return[t[0],(r-e)*100,(1-r)*100]};B.hwb.hcg=function(t){var e=t[1]/100,n=t[2]/100,r=1-n,i=r-e,s=0;return i<1&&(s=(r-i)/(1-i)),[t[0],i*100,s*100]};B.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};B.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};B.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};B.gray.hsl=B.gray.hsv=function(t){return[0,0,t[0]]};B.gray.hwb=function(t){return[0,100,t[0]]};B.gray.cmyk=function(t){return[0,0,0,t[0]]};B.gray.lab=function(t){return[t[0],0,0]};B.gray.hex=function(t){var e=Math.round(t[0]/100*255)&255,n=(e<<16)+(e<<8)+e,r=n.toString(16).toUpperCase();return"000000".substring(r.length)+r};B.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}});var Wu=N((Hm,Lu)=>{var nr=Gi();function cp(){for(var t={},e=Object.keys(nr),n=e.length,r=0;r<n;r++)t[e[r]]={distance:-1,parent:null};return t}function lp(t){var e=cp(),n=[t];for(e[t].distance=0;n.length;)for(var r=n.pop(),i=Object.keys(nr[r]),s=i.length,o=0;o<s;o++){var c=i[o],l=e[c];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,n.unshift(c))}return e}function fp(t,e){return function(n){return e(t(n))}}function dp(t,e){for(var n=[e[t].parent,t],r=nr[e[t].parent][t],i=e[t].parent;e[i].parent;)n.unshift(e[i].parent),r=fp(nr[e[i].parent][i],r),i=e[i].parent;return r.conversion=n,r}Lu.exports=function(t){for(var e=lp(t),n={},r=Object.keys(e),i=r.length,s=0;s<i;s++){var o=r[s],c=e[o];c.parent!==null&&(n[o]=dp(o,e))}return n}});var Bu=N((zm,$u)=>{var Xi=Gi(),hp=Wu(),$t={},gp=Object.keys(Xi);function pp(t){var e=function(n){return n==null?n:(arguments.length>1&&(n=Array.prototype.slice.call(arguments)),t(n))};return"conversion"in t&&(e.conversion=t.conversion),e}function mp(t){var e=function(n){if(n==null)return n;arguments.length>1&&(n=Array.prototype.slice.call(arguments));var r=t(n);if(typeof r=="object")for(var i=r.length,s=0;s<i;s++)r[s]=Math.round(r[s]);return r};return"conversion"in t&&(e.conversion=t.conversion),e}gp.forEach(function(t){$t[t]={},Object.defineProperty($t[t],"channels",{value:Xi[t].channels}),Object.defineProperty($t[t],"labels",{value:Xi[t].labels});var e=hp(t),n=Object.keys(e);n.forEach(function(r){var i=e[r];$t[t][r]=mp(i),$t[t][r].raw=pp(i)})});$u.exports=$t});var zu=N((Um,Hu)=>{"use strict";var Bt=Bu(),rr=(t,e)=>function(){return`[${t.apply(Bt,arguments)+e}m`},ir=(t,e)=>function(){let n=t.apply(Bt,arguments);return`[${38+e};5;${n}m`},or=(t,e)=>function(){let n=t.apply(Bt,arguments);return`[${38+e};2;${n[0]};${n[1]};${n[2]}m`};function yp(){let t=new Map,e={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};e.color.grey=e.color.gray;for(let i of Object.keys(e)){let s=e[i];for(let o of Object.keys(s)){let c=s[o];e[o]={open:`[${c[0]}m`,close:`[${c[1]}m`},s[o]=e[o],t.set(c[0],c[1])}Object.defineProperty(e,i,{value:s,enumerable:!1}),Object.defineProperty(e,"codes",{value:t,enumerable:!1})}let n=i=>i,r=(i,s,o)=>[i,s,o];e.color.close="[39m",e.bgColor.close="[49m",e.color.ansi={ansi:rr(n,0)},e.color.ansi256={ansi256:ir(n,0)},e.color.ansi16m={rgb:or(r,0)},e.bgColor.ansi={ansi:rr(n,10)},e.bgColor.ansi256={ansi256:ir(n,10)},e.bgColor.ansi16m={rgb:or(r,10)};for(let i of Object.keys(Bt)){if(typeof Bt[i]!="object")continue;let s=Bt[i];i==="ansi16"&&(i="ansi"),"ansi16"in s&&(e.color.ansi[i]=rr(s.ansi16,0),e.bgColor.ansi[i]=rr(s.ansi16,10)),"ansi256"in s&&(e.color.ansi256[i]=ir(s.ansi256,0),e.bgColor.ansi256[i]=ir(s.ansi256,10)),"rgb"in s&&(e.color.ansi16m[i]=or(s.rgb,0),e.bgColor.ansi16m[i]=or(s.rgb,10))}return e}Object.defineProperty(Hu,"exports",{enumerable:!0,get:yp})});var Ju=N((Jm,Uu)=>{"use strict";Uu.exports=(t,e)=>{e=e||process.argv;let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1?!0:r<i)}});var Xu=N((Gm,Gu)=>{"use strict";var vp=require("os"),ze=Ju(),qe=process.env,Ht;ze("no-color")||ze("no-colors")||ze("color=false")?Ht=!1:(ze("color")||ze("colors")||ze("color=true")||ze("color=always"))&&(Ht=!0);"FORCE_COLOR"in qe&&(Ht=qe.FORCE_COLOR.length===0||parseInt(qe.FORCE_COLOR,10)!==0);function bp(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function wp(t){if(Ht===!1)return 0;if(ze("color=16m")||ze("color=full")||ze("color=truecolor"))return 3;if(ze("color=256"))return 2;if(t&&!t.isTTY&&Ht!==!0)return 0;let e=Ht?1:0;if(process.platform==="win32"){let n=vp.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in qe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in qe)||qe.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in qe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(qe.TEAMCITY_VERSION)?1:0;if(qe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in qe){let n=parseInt((qe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(qe.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(qe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(qe.TERM)||"COLORTERM"in qe?1:(qe.TERM==="dumb",e)}function Yi(t){let e=wp(t);return bp(e)}Gu.exports={supportsColor:Yi,stdout:Yi(process.stdout),stderr:Yi(process.stderr)}});var Zu=N((Xm,Vu)=>{"use strict";var _p=/(?:\\(u[a-f\d]{4}|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,Yu=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,Rp=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,Cp=/\\(u[a-f\d]{4}|x[a-f\d]{2}|.)|([^\\])/gi,Pp=new Map([["n",`
`],["r","\r"],["t","	"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a","\x07"]]);function Ku(t){return t[0]==="u"&&t.length===5||t[0]==="x"&&t.length===3?String.fromCharCode(parseInt(t.slice(1),16)):Pp.get(t)||t}function qp(t,e){let n=[],r=e.trim().split(/\s*,\s*/g),i;for(let s of r)if(!isNaN(s))n.push(Number(s));else if(i=s.match(Rp))n.push(i[2].replace(Cp,(o,c,l)=>c?Ku(c):l));else throw new Error(`Invalid Chalk template style argument: ${s} (in style '${t}')`);return n}function Sp(t){Yu.lastIndex=0;let e=[],n;for(;(n=Yu.exec(t))!==null;){let r=n[1];if(n[2]){let i=qp(r,n[2]);e.push([r].concat(i))}else e.push([r])}return e}function Qu(t,e){let n={};for(let i of e)for(let s of i.styles)n[s[0]]=i.inverse?null:s.slice(1);let r=t;for(let i of Object.keys(n))if(Array.isArray(n[i])){if(!(i in r))throw new Error(`Unknown Chalk style: ${i}`);n[i].length>0?r=r[i].apply(r,n[i]):r=r[i]}return r}Vu.exports=(t,e)=>{let n=[],r=[],i=[];if(e.replace(_p,(s,o,c,l,p,f)=>{if(o)i.push(Ku(o));else if(l){let v=i.join("");i=[],r.push(n.length===0?v:Qu(t,n)(v)),n.push({inverse:c,styles:Sp(l)})}else if(p){if(n.length===0)throw new Error("Found extraneous } in Chalk template literal");r.push(Qu(t,n)(i.join(""))),i=[],n.pop()}else i.push(f)}),r.push(i.join("")),n.length>0){let s=`Chalk template literal is missing ${n.length} closing bracket${n.length===1?"":"s"} (\`}\`)`;throw new Error(s)}return r.join("")}});var ic=N((Ym,gn)=>{"use strict";var Ki=xu(),ye=zu(),Qi=Xu().stdout,kp=Zu(),ec=process.platform==="win32"&&!(process.env.TERM||"").toLowerCase().startsWith("xterm"),tc=["ansi","ansi","ansi256","ansi16m"],nc=new Set(["gray"]),zt=Object.create(null);function rc(t,e){e=e||{};let n=Qi?Qi.level:0;t.level=e.level===void 0?n:e.level,t.enabled="enabled"in e?e.enabled:t.level>0}function hn(t){if(!this||!(this instanceof hn)||this.template){let e={};return rc(e,t),e.template=function(){let n=[].slice.call(arguments);return Ep.apply(null,[e.template].concat(n))},Object.setPrototypeOf(e,hn.prototype),Object.setPrototypeOf(e.template,e),e.template.constructor=hn,e.template}rc(this,t)}ec&&(ye.blue.open="[94m");for(let t of Object.keys(ye))ye[t].closeRe=new RegExp(Ki(ye[t].close),"g"),zt[t]={get(){let e=ye[t];return sr.call(this,this._styles?this._styles.concat(e):[e],this._empty,t)}};zt.visible={get(){return sr.call(this,this._styles||[],!0,"visible")}};ye.color.closeRe=new RegExp(Ki(ye.color.close),"g");for(let t of Object.keys(ye.color.ansi))nc.has(t)||(zt[t]={get(){let e=this.level;return function(){let r={open:ye.color[tc[e]][t].apply(null,arguments),close:ye.color.close,closeRe:ye.color.closeRe};return sr.call(this,this._styles?this._styles.concat(r):[r],this._empty,t)}}});ye.bgColor.closeRe=new RegExp(Ki(ye.bgColor.close),"g");for(let t of Object.keys(ye.bgColor.ansi)){if(nc.has(t))continue;let e="bg"+t[0].toUpperCase()+t.slice(1);zt[e]={get(){let n=this.level;return function(){let i={open:ye.bgColor[tc[n]][t].apply(null,arguments),close:ye.bgColor.close,closeRe:ye.bgColor.closeRe};return sr.call(this,this._styles?this._styles.concat(i):[i],this._empty,t)}}}}var Tp=Object.defineProperties(()=>{},zt);function sr(t,e,n){let r=function(){return Dp.apply(r,arguments)};r._styles=t,r._empty=e;let i=this;return Object.defineProperty(r,"level",{enumerable:!0,get(){return i.level},set(s){i.level=s}}),Object.defineProperty(r,"enabled",{enumerable:!0,get(){return i.enabled},set(s){i.enabled=s}}),r.hasGrey=this.hasGrey||n==="gray"||n==="grey",r.__proto__=Tp,r}function Dp(){let t=arguments,e=t.length,n=String(arguments[0]);if(e===0)return"";if(e>1)for(let i=1;i<e;i++)n+=" "+t[i];if(!this.enabled||this.level<=0||!n)return this._empty?"":n;let r=ye.dim.open;ec&&this.hasGrey&&(ye.dim.open="");for(let i of this._styles.slice().reverse())n=i.open+n.replace(i.closeRe,i.open)+i.close,n=n.replace(/\r?\n/g,`${i.close}$&${i.open}`);return ye.dim.open=r,n}function Ep(t,e){if(!Array.isArray(e))return[].slice.call(arguments,1).join(" ");let n=[].slice.call(arguments,2),r=[e.raw[0]];for(let i=1;i<e.length;i++)r.push(String(n[i-1]).replace(/[{}\\]/g,"\\$&")),r.push(String(e.raw[i]));return kp(t,r.join(""))}Object.defineProperties(hn.prototype,zt);gn.exports=hn();gn.exports.supportsColor=Qi;gn.exports.default=gn.exports});var lc=N(pn=>{"use strict";Object.defineProperty(pn,"__esModule",{value:!0});pn.shouldHighlight=uc;pn.getChalk=cc;pn.default=Mp;var oc=wu(),sc=Eu(),Vi=ic(),Op=new Set(["as","async","from","get","of","set"]);function xp(t){return{keyword:t.cyan,capitalized:t.yellow,jsxIdentifier:t.yellow,punctuator:t.yellow,number:t.magenta,string:t.green,regex:t.magenta,comment:t.grey,invalid:t.white.bgRed.bold}}var Np=/\r\n|[\n\r\u2028\u2029]/,jp=/^[()[\]{}]$/,ac;{let t=/^[a-z][\w-]*$/i,e=function(n,r,i){if(n.type==="name"){if((0,sc.isKeyword)(n.value)||(0,sc.isStrictReservedWord)(n.value,!0)||Op.has(n.value))return"keyword";if(t.test(n.value)&&(i[r-1]==="<"||i.substr(r-2,2)=="</"))return"jsxIdentifier";if(n.value[0]!==n.value[0].toLowerCase())return"capitalized"}return n.type==="punctuator"&&jp.test(n.value)?"bracket":n.type==="invalid"&&(n.value==="@"||n.value==="#")?"punctuator":n.type};ac=function*(n){let r;for(;r=oc.default.exec(n);){let i=oc.matchToToken(r);yield{type:e(i,r.index,n),value:i.value}}}}function Fp(t,e){let n="";for(let{type:r,value:i}of ac(e)){let s=t[r];s?n+=i.split(Np).map(o=>s(o)).join(`
`):n+=i}return n}function uc(t){return!!Vi.supportsColor||t.forceColor}function cc(t){return t.forceColor?new Vi.constructor({enabled:!0,level:1}):Vi}function Mp(t,e={}){if(uc(e)){let n=cc(e),r=xp(n);return Fp(r,t)}else return t}});var gc=N(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.codeFrameColumns=hc;ar.default=Lp;var Zi=lc(),fc=!1;function Ap(t){return{gutter:t.grey,marker:t.red.bold,message:t.red.bold}}var dc=/\r\n|[\n\r\u2028\u2029]/;function Ip(t,e,n){let r=Object.assign({column:0,line:-1},t.start),i=Object.assign({},r,t.end),{linesAbove:s=2,linesBelow:o=3}=n||{},c=r.line,l=r.column,p=i.line,f=i.column,v=Math.max(c-(s+1),0),b=Math.min(e.length,p+o);c===-1&&(v=0),p===-1&&(b=e.length);let P=p-c,S={};if(P)for(let T=0;T<=P;T++){let j=T+c;if(!l)S[j]=!0;else if(T===0){let _=e[j-1].length;S[j]=[l,_-l+1]}else if(T===P)S[j]=[0,f];else{let _=e[j-T].length;S[j]=[0,_]}}else l===f?l?S[c]=[l,0]:S[c]=!0:S[c]=[l,f-l];return{start:v,end:b,markerLines:S}}function hc(t,e,n={}){let r=(n.highlightCode||n.forceColor)&&(0,Zi.shouldHighlight)(n),i=(0,Zi.getChalk)(n),s=Ap(i),o=(T,j)=>r?T(j):j,c=t.split(dc),{start:l,end:p,markerLines:f}=Ip(e,c,n),v=e.start&&typeof e.start.column=="number",b=String(p).length,S=(r?(0,Zi.default)(t,n):t).split(dc).slice(l,p).map((T,j)=>{let _=l+1+j,E=` ${` ${_}`.slice(-b)} |`,L=f[_],W=!f[_+1];if(L){let J="";if(Array.isArray(L)){let se=T.slice(0,Math.max(L[0]-1,0)).replace(/[^\t]/g," "),I=L[1]||1;J=[`
 `,o(s.gutter,E.replace(/\d/g," "))," ",se,o(s.marker,"^").repeat(I)].join(""),W&&n.message&&(J+=" "+o(s.message,n.message))}return[o(s.marker,">"),o(s.gutter,E),T.length>0?` ${T}`:"",J].join("")}else return` ${o(s.gutter,E)}${T.length>0?` ${T}`:""}`}).join(`
`);return n.message&&!v&&(S=`${" ".repeat(b+1)}${n.message}
${S}`),r?i.reset(S):S}function Lp(t,e,n,r={}){if(!fc){fc=!0;let s="Passing lineNumber and colNumber is deprecated to @babel/code-frame. Please use `codeFrameColumns`.";if(process.emitWarning)process.emitWarning(s,"DeprecationWarning");else{let o=new Error(s);o.name="DeprecationWarning",console.warn(new Error(s))}}return n=Math.max(n,0),hc(t,{start:{column:n,line:e}},r)}});var vc=N((Vm,yc)=>{"use strict";var eo=gu(),Wp=yu(),{default:$p}=bu(),{codeFrameColumns:Bp}=gc(),pc=eo("JSONError",{fileName:eo.append("in %s"),codeFrame:eo.append(`

%s
`)}),mc=(t,e,n)=>{typeof e=="string"&&(n=e,e=null);try{try{return JSON.parse(t,e)}catch(r){throw Wp(t,e),r}}catch(r){r.message=r.message.replace(/\n/g,"");let i=r.message.match(/in JSON at position (\d+) while parsing/),s=new pc(r);if(n&&(s.fileName=n),i&&i.length>0){let o=new $p(t),c=Number(i[1]),l=o.locationForIndex(c),p=Bp(t,{start:{line:l.line+1,column:l.column+1}},{highlightCode:!0});s.codeFrame=p}throw s}};mc.JSONError=pc;yc.exports=mc});var _c=N((Zm,to)=>{"use strict";var Hp=require("path"),{promisify:zp}=require("util"),bc=uu(),Up=lu(),Jp=vc(),wc=(t,e,n={})=>(t=Up(t),typeof n.beforeParse=="function"&&(t=n.beforeParse(t)),Jp(t,n.reviver,Hp.relative(process.cwd(),e)));to.exports=async(t,e)=>wc(await zp(bc.readFile)(t,"utf8"),t,e);to.exports.sync=(t,e)=>wc(bc.readFileSync(t,"utf8"),t,e)});var Cc=N((ey,Rc)=>{"use strict";Rc.exports=function(t){for(var e=t.length,n,r=0;r<e;r++)if(n=t.charCodeAt(r),(n<9||n>13)&&n!==32&&n!==133&&n!==160&&n!==5760&&n!==6158&&(n<8192||n>8205)&&n!==8232&&n!==8233&&n!==8239&&n!==8287&&n!==8288&&n!==12288&&n!==65279)return!1;return!0}});var qc=N((ty,Pc)=>{"use strict";var Gp=Cc();function Xp(t){return typeof t=="string"&&!Gp(t)}Pc.exports=Xp});var Dc=N((ny,Tc)=>{var Sc=class{constructor(e){this.value=e,this.next=void 0}},kc=class{constructor(){this.clear()}enqueue(e){let n=new Sc(e);this._head?(this._tail.next=n,this._tail=n):(this._head=n,this._tail=n),this._size++}dequeue(){let e=this._head;if(!!e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}};Tc.exports=kc});var Oc=N((ry,Ec)=>{"use strict";var Yp=Dc(),Kp=t=>{if(!((Number.isInteger(t)||t===1/0)&&t>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");let e=new Yp,n=0,r=()=>{n--,e.size>0&&e.dequeue()()},i=async(c,l,...p)=>{n++;let f=(async()=>c(...p))();l(f);try{await f}catch{}r()},s=(c,l,...p)=>{e.enqueue(i.bind(null,c,l,...p)),(async()=>{await Promise.resolve(),n<t&&e.size>0&&e.dequeue()()})()},o=(c,...l)=>new Promise(p=>{s(c,p,...l)});return Object.defineProperties(o,{activeCount:{get:()=>n},pendingCount:{get:()=>e.size},clearQueue:{value:()=>{e.clear()}}}),o};Ec.exports=Kp});var jc=N((iy,Nc)=>{"use strict";var xc=Oc(),no=class extends Error{constructor(e){super();this.value=e}},Qp=async(t,e)=>e(await t),Vp=async t=>{let e=await Promise.all(t);if(e[1]===!0)throw new no(e[0]);return!1},Zp=async(t,e,n)=>{n={concurrency:1/0,preserveOrder:!0,...n};let r=xc(n.concurrency),i=[...t].map(o=>[o,r(Qp,o,e)]),s=xc(n.preserveOrder?1:1/0);try{await Promise.all(i.map(o=>s(Vp,o)))}catch(o){if(o instanceof no)return o.value;throw o}};Nc.exports=Zp});var Wc=N((oy,ro)=>{"use strict";var Fc=require("path"),ur=require("fs"),{promisify:Mc}=require("util"),e0=jc(),t0=Mc(ur.stat),n0=Mc(ur.lstat),Ac={directory:"isDirectory",file:"isFile"};function Ic({type:t}){if(!(t in Ac))throw new Error(`Invalid type specified: ${t}`)}var Lc=(t,e)=>t===void 0||e[Ac[t]]();ro.exports=async(t,e)=>{e={cwd:process.cwd(),type:"file",allowSymlinks:!0,...e},Ic(e);let n=e.allowSymlinks?t0:n0;return e0(t,async r=>{try{let i=await n(Fc.resolve(e.cwd,r));return Lc(e.type,i)}catch{return!1}},e)};ro.exports.sync=(t,e)=>{e={cwd:process.cwd(),allowSymlinks:!0,type:"file",...e},Ic(e);let n=e.allowSymlinks?ur.statSync:ur.lstatSync;for(let r of t)try{let i=n(Fc.resolve(e.cwd,r));if(Lc(e.type,i))return r}catch{}}});var Bc=N((sy,io)=>{"use strict";var $c=require("fs"),{promisify:r0}=require("util"),i0=r0($c.access);io.exports=async t=>{try{return await i0(t),!0}catch{return!1}};io.exports.sync=t=>{try{return $c.accessSync(t),!0}catch{return!1}}});var zc=N((ay,Ut)=>{"use strict";var ht=require("path"),cr=Wc(),Hc=Bc(),oo=Symbol("findUp.stop");Ut.exports=async(t,e={})=>{let n=ht.resolve(e.cwd||""),{root:r}=ht.parse(n),i=[].concat(t),s=async o=>{if(typeof t!="function")return cr(i,o);let c=await t(o.cwd);return typeof c=="string"?cr([c],o):c};for(;;){let o=await s({...e,cwd:n});if(o===oo)return;if(o)return ht.resolve(n,o);if(n===r)return;n=ht.dirname(n)}};Ut.exports.sync=(t,e={})=>{let n=ht.resolve(e.cwd||""),{root:r}=ht.parse(n),i=[].concat(t),s=o=>{if(typeof t!="function")return cr.sync(i,o);let c=t(o.cwd);return typeof c=="string"?cr.sync([c],o):c};for(;;){let o=s({...e,cwd:n});if(o===oo)return;if(o)return ht.resolve(n,o);if(n===r)return;n=ht.dirname(n)}};Ut.exports.exists=Hc;Ut.exports.sync.exists=Hc.sync;Ut.exports.stop=oo});var Gc=N((uy,so)=>{"use strict";var Uc=require("path"),Jc=zc(),o0=async t=>{let e=await Jc("package.json",{cwd:t});return e&&Uc.dirname(e)};so.exports=o0;so.exports.sync=t=>{let e=Jc.sync("package.json",{cwd:t});return e&&Uc.dirname(e)}});var uo=N((cy,Xc)=>{var ao=ki();function s0(t){switch(t){case 1:return ao.DiagnosticSeverity.Warning;case 2:return ao.DiagnosticSeverity.Error;default:return ao.DiagnosticSeverity.Error}}function a0(t){return{message:t.ruleId!==null?`${t.message} (${t.ruleId})`:`${t.message}`,severity:s0(t.severity),code:t.ruleId,source:"XO",range:{start:{line:t.line-1,character:t.column-1},end:{line:t.line-1,character:t.column-1}}}}function u0(t){let{range:e}=t;return`[${e.start.line},${e.start.character},${e.end.line},${e.end.character}]-${t.code}`}Xc.exports={computeKey:u0,makeDiagnostic:a0}});var Kc=N((ly,Yc)=>{var c0=uo(),lr=class{constructor(e){this.edits=e,this.keys=Object.keys(e)}static overlaps(e,n){return Boolean(e)&&e.edit.range[1]>n.edit.range[0]}isEmpty(){return this.keys.length===0}getDocumentVersion(){return this.edits[this.keys[0]].documentVersion}getScoped(e){let n=[];for(let r of e){let i=c0.computeKey(r),s=this.edits[i];s&&n.push(s)}return n}getAllSorted(){return this.keys.map(n=>this.edits[n]).sort((n,r)=>{let i=n.edit.range[0]-r.edit.range[0];return i!==0?i:n.edit.range[1]===0?-1:r.edit.range[1]===0?1:n.edit.range[1]-r.edit.range[1]})}getOverlapFree(){let e=this.getAllSorted();if(e.length<=1)return e;let n=[],r=e[0];n.push(r);for(let i=1;i<e.length;i++){let s=e[i];lr.overlaps(r,s)||(n.push(s),r=s)}return n}};Yc.exports=lr});var mn=require("process"),rt=require("path"),{createConnection:l0,ProposedFeatures:f0,TextDocuments:d0,RequestType:h0,TextDocumentSyncKind:g0,Files:Qc,DiagnosticSeverity:co,TextEdit:Vc,Range:Zc,ResponseError:fr,LSPErrorCodes:dr,CodeActionKind:p0}=ki(),{TextDocument:m0}=Wa(),{URI:Ke}=$a(),y0=Ha(),el=Ga(),v0=Qa(),lo=_c(),tl=qc(),b0=Gc(),fo=uo(),w0=Kc(),nl=0,rl=class{constructor(){y0(this),this.connection=l0(f0.all),this.documents=new d0(m0),this.codeActions=new Map,this.queue=new v0({concurrency:1,autostart:!0}),this.documents.onDidOpen(this.handleDocumentsOnDidOpen),this.documents.onDidChangeContent(this.handleDocumentsOnDidChangeContent),this.documents.onDidClose(this.handleDocumentsOnDidClose),this.connection.onInitialize(this.handleInitialize),this.connection.onDidChangeConfiguration(this.handleDidChangeConfiguration),this.connection.onDidChangeWatchedFiles(this.handleDidChangeWatchedFiles),this.connection.onRequest(new h0("textDocument/xo/allFixes"),this.handleAllFixesRequest),this.connection.onDocumentFormatting(this.handleDocumentFormattingRequest),this.connection.onCodeAction(this.handleCodeActionRequest),this.lintDocumentDebounced=el(this.lintDocument,nl,{maxWait:350}),this.xoCache=new Map,this.configurationCache=new Map,this.errorOptionsCache=new Map,this.foldersCache=[],this.hasShownResolutionError=!1,this.currentDebounce=nl}listen(){this.documents.listen(this.connection),this.connection.listen(),this.connection.console.info(`XO Server Starting in Node ${mn.version}`)}isDocumentOpen(e){return e?.uri&&this.documents.get(e.uri)}log(...e){let n=Date.now();this.connection.console.log(e.reduce((r,i)=>(i instanceof Map&&(i=`Map(${JSON.stringify([...i.entries()],null,2)})`),typeof i=="object"&&(i=JSON.stringify(i,null,2)),r.concat(i+" ")),`[${n}] `))}logError(e){this.connection.console.error(e?.message?e.message:"Unknown Error")}async handleInitialize(e){this.foldersCache=e.workspaceFolders||[];try{await Promise.all(this.foldersCache.map(n=>this.resolveXO(n)))}catch{}return{capabilities:{workspace:{workspaceFolders:{supported:!0}},textDocumentSync:{openClose:!0,change:g0.Incremental},documentFormattingProvider:!0,codeActionProvider:!0}}}async handleDidChangeConfiguration(e){return Number.isInteger(Number(e?.settings?.xo?.debounce))&&Number(e?.settings?.xo?.debounce)!==this.currentDebounce&&(this.currentDebounce=e.settings.xo.debounce,this.lintDocumentDebounced=el(this.lintDocument,e.settings.xo.debounce,{maxWait:350})),this.configurationCache.clear(),await Promise.all(this.foldersCache.map(n=>this.getDocumentConfig(n))),this.lintDocuments(this.documents.all())}async handleDidChangeWatchedFiles(e){for(let n of e.changes)try{let r=await this.getDocumentFolder(n);this.errorOptionsCache.has(r.uri)&&this.errorOptionsCache.delete(r.uri),await this.getDocumentErrorOptions(n)}catch(r){this.logError(r)}return this.lintDocuments(this.documents.all())}async handleAllFixesRequest(e){return new Promise((n,r)=>{this.queue.push(async()=>{try{let i=await this.getDocumentFixes(e.textDocument.uri);n(i)}catch(i){r(i)}})})}async handleDocumentFormattingRequest(e,n){return new Promise((r,i)=>{this.queue.push(async()=>{try{if(!this.isDocumentOpen(e.textDocument))return null;if(n.isCancellationRequested)return i(new fr(dr.RequestCancelled,"Request got cancelled"));if(e.textDocument.version&&e.textDocument.version!==this.documents.get(e.textDocument.uri).version)return i(new fr(dr.RequestCancelled,"Request got cancelled"));let{config:s}=await this.getDocumentConfig(e.textDocument);if(!s?.format?.enable)return r(null);let o=await this.getDocumentFixes(e.textDocument.uri);r(o?.edits)}catch(s){this.logError(s),i(s)}})})}async handleCodeActionRequest(e,n){return new Promise((r,i)=>{this.queue.push(async()=>{try{if(!e.context?.diagnostics?.length||!e?.textDocument?.uri)return r();if(n.isCancellationRequested)return i(new fr(dr.RequestCancelled,"Request got cancelled"));if(e.textDocument.version&&e.textDocument.version!==this.documents.get(e.textDocument.uri).version)return i(new fr(dr.RequestCancelled,"Request got cancelled"));let s=this.codeActions.get(e.textDocument.uri),o=fo.computeKey(e.context.diagnostics[0]),c=s?.[o];if(!s||!c)return r();let l=this.documents.get(e.textDocument.uri);return r([{title:"Fix with XO",kind:p0.QuickFix,diagnostic:e.context.diagnostics[0],edit:{changes:{[l.uri]:[Vc.replace(Zc.create(l.positionAt(c?.edit?.range?.[0]),l.positionAt(c?.edit?.range?.[1])),c.edit.text||"")]}}}])}catch(s){this.logError(s),i(s)}})})}async handleDocumentsOnDidOpen(e){try{let{folder:n,config:{path:r}={}}=await this.getDocumentConfig(e.document);if(tl(r)||!n?.uri||!this.xoCache.has(n.uri))return;let i=Ke.parse(n.uri).fsPath,s=this.xoCache.get(n.uri),o=rt.dirname(await Qc.resolve("xo",void 0,i)),{version:c}=await lo(rt.join(o,"package.json"));s.version!==c&&this.xoCache.delete(n.uri)}catch(n){this.logError(n)}}handleDocumentsOnDidChangeContent(e){this.queue.push(async()=>{try{if(e.document.version!==this.documents.get(e.document.uri).version)return;await this.lintDocumentDebounced(e.document)}catch(n){this.logError(n)}})}handleDocumentsOnDidClose(e){this.connection.sendDiagnostics({uri:e.document.uri,diagnostics:[]})}async getDocumentErrorOptions(e,n){try{let{uri:r}=await this.getDocumentFolder(e);if(this.errorOptionsCache.has(r)){let o={...this.errorOptionsCache.get(r),...typeof n=="undefined"?{}:n};return this.errorOptionsCache.set(r,o),o}let i=Ke.parse(r).fsPath,s=await lo(rt.join(i,"package.json"));try{s?.dependencies?.xo||s?.devDependencies?.xo?this.errorOptionsCache.set(r,{...this.errorOptionsCache.has(r)?this.errorOptionsCache.get(r):{},...typeof n=="undefined"?{}:n,showResolutionError:!0}):this.errorOptionsCache.has(r)&&this.errorOptionsCache.delete(r)}catch(o){this.errorOptionsCache.has(r)&&this.errorOptionsCache.delete(r),this.logError(o)}return this.errorOptionsCache.get(r)}catch(r){this.logError(r)}}async resolveXO(e){let{folder:{uri:n}={},config:{path:r}={}}=await this.getDocumentConfig(e),i=this.xoCache.get(n);if(typeof i?.lintText=="function")return i;await this.getDocumentErrorOptions(e);let s=Ke.parse(n).fsPath,o,c,l=tl(r);if(!l)c=await Qc.resolve("xo",void 0,s),o=Ke.file(c).toString();else if(l&&r.startsWith("file://"))o=r,this.connection.console.warn('Using a file uri for "xo.path" setting is deprecated and will be removed in the future, please provide an absolute or relative path to the file.');else if(l&&rt.isAbsolute(r))o=Ke.file(r).toString();else if(l&&!rt.isAbsolute(r))o=Ke.file(rt.join(s,r)).toString();else throw new Error(`Unknown path format \u201C${r}\u201D: Needs to start with \u201C/\u201D, \u201C./\u201D, or "../"`);let p;if([i,{version:p}]=await Promise.all([import(o),c?lo(rt.join(rt.dirname(c),"package.json")):Promise.resolve({version:"custom"})]),!i?.default?.lintText)throw new Error("The XO library doesn't export a lintText method.");return i.default.version=p,await this.connection.console.info(`XO Library ${i.default.version} was successfully resolved and cached for ${s}.`),this.xoCache.set(n,i.default),i.default}async lintDocuments(e){for(let n of e)this.queue.push(async()=>{n.version===this.documents.get(n.uri).version&&await this.lintDocument(n)})}async lintDocument(e){try{let n=this.documents.get(e.uri);if(!n)return;if(e.version!==n.version)return null;let r=await this.getDocumentDiagnostics(e);this.connection.sendDiagnostics({uri:e.uri,version:e.version,diagnostics:r})}catch(n){let r=n?.message?.includes("Failed to resolve module");if(r){let i=await this.getDocumentErrorOptions(e);i?.showResolutionError&&!i?.hasShownResolutionError&&(n.message+=". Ensure that xo is installed.",this.connection.window.showErrorMessage(n?.message?n.message:"Unknown Error"),this.getDocumentErrorOptions(e,{hasShownResolutionError:!0}))}r||this.connection.window.showErrorMessage(n?.message?n.message:"Unknown Error"),this.logError(n)}}async getDocumentFolder(e){(!Array.isArray(this.foldersCache)||this.foldersCache.length===0)&&(this.foldersCache=await this.connection.workspace.getWorkspaceFolders()||[]);let n;if(n=this.foldersCache.find(r=>e.uri.includes(r.uri)),n?.uri||(this.foldersCache=await this.connection.workspace.getWorkspaceFolders()||[],n=this.foldersCache.find(r=>e.uri.includes(r.uri))),!n?.uri){let r=Ke.parse(e.uri).fsPath,i=rt.dirname(r),s=await b0(i);if(!s)return;n={uri:Ke.file(s).toString()},this.foldersCache.push(n)}return n}async getDocumentConfig(e){let n=await this.getDocumentFolder(e);if(!n)return{};if(this.configurationCache.has(n.uri))return{folder:n,config:this.configurationCache.get(n.uri)};let r=await this.connection.workspace.getConfiguration({scopeUri:n.uri,section:"xo"});return this.configurationCache.set(n.uri,r),{folder:n,config:r}}async getDocumentDiagnostics(e){let{folder:{uri:n}={},config:{options:r,overrideSeverity:i}={}}=await this.getDocumentConfig(e);if(!n){let b=new Error("No valid workspace folder could be found for this file. Skipping linting as it is an external JS file.");return this.logError(b),[]}let s=await this.resolveXO(e),{fsPath:o}=Ke.parse(e.uri),{fsPath:c}=Ke.parse(n),l=e.getText();r.cwd=c,r.filename=o,r.filePath=o,this.codeActions.delete(e.uri);let p,f=mn.cwd();try{mn.chdir(r.cwd),p=await s.lintText(l,r)}finally{f!==mn.cwd()&&mn.chdir(f)}let{results:v}=p;if(!(v.length===0||!v[0].messages))return v[0].messages.map(b=>{let P=fo.makeDiagnostic(b);if(i){let S={off:P.severity,info:co.Information,warn:co.Warning,error:co.Error};P.severity=S[i]||P.severity}if(b.fix&&b.ruleId){let{uri:S}=e,T=this.codeActions.get(S);T||(T=Object.create(null),this.codeActions.set(S,T)),T[fo.computeKey(P)]={label:`Fix this ${b.ruleId} problem`,documentVersion:e.version,ruleId:b.ruleId,edit:b.fix}}return P})}async getDocumentFixes(e){let n=null,r=this.documents.get(e),i=this.codeActions.get(e);if(i){let s=new w0(i);s.isEmpty()||(n={documentVersion:s.getDocumentVersion(),edits:s.getOverlapFree().map(o=>Vc.replace(Zc.create(r.positionAt(o.edit.range[0]),r.positionAt(o.edit.range[1])),o.edit.text||""))})}return n}};new rl().listen();
